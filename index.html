<!DOCTYPE html><html lang="es"><head><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spinach ab initio</title>
    <style>
        :root {
            --primary-color: #4a6741; /* Moss green */
            --secondary-color: #6b8e5f;
            --accent-color: #85a376;
            --light-color: #e9f0e6;
            --dark-color: #2a3c25;
            --text-color: #333;
            --light-text: #f5f5f5;
            --correction-color: #4CAF50;
        }
        
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            margin: 0;
            padding: 0;
            background-color: var(--light-color);
            color: var(--text-color);
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            aspect-ratio: 16/10;
            background-color: white;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            overflow: auto;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        .navbar {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .navbar h1 {
            margin: 0;
            text-align: center;
        }
        
        .navbar p {
            text-align: center;
            margin: 5px 0 15px;
            font-style: italic;
            opacity: 0.9;
        }
        
        .tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            justify-content: center;
            margin-top: 10px;
        }
        
        .tab-btn {
            background-color: var(--dark-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .tab-btn:hover {
            background-color: var(--secondary-color);
        }
        
        .tab-btn.active {
            background-color: var(--accent-color);
            color: var(--dark-color);
            font-weight: bold;
        }
        
        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .page {
            display: none;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .page.active {
            display: block;
        }
        
        .section-title {
            color: var(--primary-color);
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 5px;
            margin-top: 30px;
        }
        
        .card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            background-color: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background-color: var(--primary-color);
            color: white;
        }
        
        tr:nth-child(even) {
            background-color: #f8f8f8;
        }
        
        tr:hover {
            background-color: #f2f8ef;
        }
        
        .verb {
            color: var(--primary-color);
            font-weight: bold;
            cursor: pointer;
            text-decoration: underline;
        }
        
        .topic-section {
            margin-bottom: 30px;
        }
        
        .topic-title {
            color: var(--primary-color);
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 5px;
            margin-top: 30px;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 2000;
        }
        
        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 20px;
            width: 80%;
            max-width: 800px;
            border-radius: 12px;
            position: relative;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 20px;
            cursor: pointer;
            color: var(--primary-color);
        }
        
        .question-controls {
            margin: 20px 0;
            padding: 15px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .filter-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        select, input, button, textarea {
            padding: 8px 12px;
            border-radius: 6px;
            border: 1px solid #ddd;
        }
        
        textarea {
            width: 100%;
            min-height: 150px;
            resize: vertical;
        }
        
        button.action-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
            border-radius: 6px;
        }
        
        button.action-btn:hover {
            background-color: var(--secondary-color);
        }
        
        .question-display {
            background-color: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            min-height: 200px;
        }
        
        .answer-section {
            margin-top: 20px;
            display: none;
        }
        
        .feedback-section {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
            display: none;
        }
        
        .correction {
            color: var(--correction-color);
            font-weight: bold;
        }
        
        .custom-vocab-form {
            background-color: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .custom-vocab-container {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }
        
        .input-group {
            flex: 1;
            min-width: 250px;
        }
        
        .custom-vocab-list {
            margin-top: 20px;
        }
        
        .writing-format {
            background-color: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .format-title {
            color: var(--primary-color);
            border-bottom: 1px solid var(--accent-color);
            padding-bottom: 5px;
            margin-top: 0;
        }
        
        .format-content {
            margin-top: 15px;
        }
        
        .format-example {
            background-color: #f8f8f8;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
            margin: 15px 0;
        }
        
        .format-tips {
            margin-top: 15px;
        }
        
        .format-tips ul {
            padding-left: 20px;
        }
        
        .toc {
            background-color: #f8f8f8;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .toc ul {
            padding-left: 20px;
        }
        
        .toc li {
            margin-bottom: 5px;
        }
        
        .toc a {
            color: var(--primary-color);
            text-decoration: none;
        }
        
        .toc a:hover {
            text-decoration: underline;
        }
        
        .score-display {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        @media (max-width: 768px) {
            .container {
                aspect-ratio: auto;
                height: auto;
            }
            
            .modal-content {
                width: 95%;
                margin: 5% auto;
            }
            
            th, td {
                padding: 8px 10px;
                font-size: 14px;
            }
            
            .content {
                padding: 10px;
            }
            
            .custom-vocab-container {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="navbar">
            <h1>Spinach ab initio</h1>
            <p>by Hemang Keswani</p>
            <div class="tabs">
                <button class="tab-btn active" data-page="regular-verbs">Regular Verbs</button>
                <button class="tab-btn" data-page="irregular-verbs">Irregular Verbs</button>
                <button class="tab-btn" data-page="vocabulary">Vocabulary</button>
                <button class="tab-btn" data-page="custom-vocab">Custom Vocabulary</button>
                <button class="tab-btn" data-page="question-generator">Question Generator</button>
                <button class="tab-btn" data-page="writing-formats">Writing Formats</button>
            </div>
        </div>

        <div class="content">
            <!-- Regular Verbs Page -->
            <div id="regular-verbs" class="page active">
                <h2 class="section-title">Regular Verb Conjugations</h2>
                <p>Below are the regular conjugation patterns for -ar, -er, and -ir verbs in Spanish.</p>
                
                <h3 class="topic-title">Present Simple (Presente)</h3>
                <div class="card">
                    <table>
                        <tbody><tr>
                            <th>Subject</th>
                            <th>-AR verbs</th>
                            <th>-ER verbs</th>
                            <th>-IR verbs</th>
                        </tr>
                        <tr>
                            <td>yo</td>
                            <td>-o</td>
                            <td>-o</td>
                            <td>-o</td>
                        </tr>
                        <tr>
                            <td>tú</td>
                            <td>-as</td>
                            <td>-es</td>
                            <td>-es</td>
                        </tr>
                        <tr>
                            <td>él/ella/usted</td>
                            <td>-a</td>
                            <td>-e</td>
                            <td>-e</td>
                        </tr>
                        <tr>
                            <td>nosotros/as</td>
                            <td>-amos</td>
                            <td>-emos</td>
                            <td>-imos</td>
                        </tr>
                        <tr>
                            <td>vosotros/as</td>
                            <td>-áis</td>
                            <td>-éis</td>
                            <td>-ís</td>
                        </tr>
                        <tr>
                            <td>ellos/ellas/ustedes</td>
                            <td>-an</td>
                            <td>-en</td>
                            <td>-en</td>
                        </tr>
                    </tbody></table>
                </div>
                
                <h3 class="topic-title">Present Continuous (Presente Continuo)</h3>
                <div class="card">
                    <p>Format: conjugated form of "estar" + gerund (-ando for -ar verbs, -iendo for -er/-ir verbs)</p>
                    <table>
                        <tbody><tr>
                            <th>Subject</th>
                            <th>estar</th>
                            <th>-AR verbs (gerund)</th>
                            <th>-ER/-IR verbs (gerund)</th>
                        </tr>
                        <tr>
                            <td>yo</td>
                            <td>estoy</td>
                            <td>-ando</td>
                            <td>-iendo</td>
                        </tr>
                        <tr>
                            <td>tú</td>
                            <td>estás</td>
                            <td>-ando</td>
                            <td>-iendo</td>
                        </tr>
                        <tr>
                            <td>él/ella/usted</td>
                            <td>está</td>
                            <td>-ando</td>
                            <td>-iendo</td>
                        </tr>
                        <tr>
                            <td>nosotros/as</td>
                            <td>estamos</td>
                            <td>-ando</td>
                            <td>-iendo</td>
                        </tr>
                        <tr>
                            <td>vosotros/as</td>
                            <td>estáis</td>
                            <td>-ando</td>
                            <td>-iendo</td>
                        </tr>
                        <tr>
                            <td>ellos/ellas/ustedes</td>
                            <td>están</td>
                            <td>-ando</td>
                            <td>-iendo</td>
                        </tr>
                    </tbody></table>
                    <p>Example: yo estoy hablando (I am speaking), tú estás comiendo (you are eating)</p>
                </div>
                
                <h3 class="topic-title">Past Simple (Pretérito)</h3>
                <div class="card">
                    <table>
                        <tbody><tr>
                            <th>Subject</th>
                            <th>-AR verbs</th>
                            <th>-ER verbs</th>
                            <th>-IR verbs</th>
                        </tr>
                        <tr>
                            <td>yo</td>
                            <td>-é</td>
                            <td>-í</td>
                            <td>-í</td>
                        </tr>
                        <tr>
                            <td>tú</td>
                            <td>-aste</td>
                            <td>-iste</td>
                            <td>-iste</td>
                        </tr>
                        <tr>
                            <td>él/ella/usted</td>
                            <td>-ó</td>
                            <td>-ió</td>
                            <td>-ió</td>
                        </tr>
                        <tr>
                            <td>nosotros/as</td>
                            <td>-amos</td>
                            <td>-imos</td>
                            <td>-imos</td>
                        </tr>
                        <tr>
                            <td>vosotros/as</td>
                            <td>-asteis</td>
                            <td>-isteis</td>
                            <td>-isteis</td>
                        </tr>
                        <tr>
                            <td>ellos/ellas/ustedes</td>
                            <td>-aron</td>
                            <td>-ieron</td>
                            <td>-ieron</td>
                        </tr>
                    </tbody></table>
                </div>

                <h3 class="topic-title">Past Continuous (Pretérito Imperfecto)</h3>
                <div class="card">
                    <table>
                        <tbody><tr>
                            <th>Subject</th>
                            <th>-AR verbs</th>
                            <th>-ER/-IR verbs</th>
                        </tr>
                        <tr>
                            <td>yo</td>
                            <td>-aba</td>
                            <td>-ía</td>
                        </tr>
                        <tr>
                            <td>tú</td>
                            <td>-abas</td>
                            <td>-ías</td>
                        </tr>
                        <tr>
                            <td>él/ella/usted</td>
                            <td>-aba</td>
                            <td>-ía</td>
                        </tr>
                        <tr>
                            <td>nosotros/as</td>
                            <td>-ábamos</td>
                            <td>-íamos</td>
                        </tr>
                        <tr>
                            <td>vosotros/as</td>
                            <td>-abais</td>
                            <td>-íais</td>
                        </tr>
                        <tr>
                            <td>ellos/ellas/ustedes</td>
                            <td>-aban</td>
                            <td>-ían</td>
                        </tr>
                    </tbody></table>
                    <p>Example: yo hablaba (I was speaking), tú comías (you were eating)</p>
                </div>
                
                <h3 class="topic-title">Future Simple (Futuro)</h3>
                <div class="card">
                    <table>
                        <tbody><tr>
                            <th>Subject</th>
                            <th>All verbs (add to infinitive)</th>
                        </tr>
                        <tr>
                            <td>yo</td>
                            <td>-é</td>
                        </tr>
                        <tr>
                            <td>tú</td>
                            <td>-ás</td>
                        </tr>
                        <tr>
                            <td>él/ella/usted</td>
                            <td>-á</td>
                        </tr>
                        <tr>
                            <td>nosotros/as</td>
                            <td>-emos</td>
                        </tr>
                        <tr>
                            <td>vosotros/as</td>
                            <td>-éis</td>
                        </tr>
                        <tr>
                            <td>ellos/ellas/ustedes</td>
                            <td>-án</td>
                        </tr>
                    </tbody></table>
                </div>

                <h3 class="topic-title">Future Continuous (Futuro Progresivo)</h3>
                <div class="card">
                    <p>Format: future conjugation of "estar" + gerund</p>
                    <table>
                        <tbody><tr>
                            <th>Subject</th>
                            <th>estar (future)</th>
                            <th>Example with hablar</th>
                        </tr>
                        <tr>
                            <td>yo</td>
                            <td>estaré</td>
                            <td>estaré hablando</td>
                        </tr>
                        <tr>
                            <td>tú</td>
                            <td>estarás</td>
                            <td>estarás hablando</td>
                        </tr>
                        <tr>
                            <td>él/ella/usted</td>
                            <td>estará</td>
                            <td>estará hablando</td>
                        </tr>
                        <tr>
                            <td>nosotros/as</td>
                            <td>estaremos</td>
                            <td>estaremos hablando</td>
                        </tr>
                        <tr>
                            <td>vosotros/as</td>
                            <td>estaréis</td>
                            <td>estaréis hablando</td>
                        </tr>
                        <tr>
                            <td>ellos/ellas/ustedes</td>
                            <td>estarán</td>
                            <td>estarán hablando</td>
                        </tr>
                    </tbody></table>
                </div>
            </div>

            <!-- Irregular Verbs Page -->
            <div id="irregular-verbs" class="page">
                <h2 class="section-title">Irregular Verb Conjugations</h2>
                
                <h3 class="topic-title">Present Simple (Presente)</h3>
                <div class="card">
                    <table>
                        <tbody><tr>
                            <th>Subject</th>
                            <th>ser (to be)</th>
                            <th>estar (to be)</th>
                            <th>ir (to go)</th>
                            <th>tener (to have)</th>
                            <th>hacer (to do/make)</th>
                        </tr>
                        <tr>
                            <td>English</td>
                            <td>to be (permanent)</td>
                            <td>to be (temporary)</td>
                            <td>to go</td>
                            <td>to have</td>
                            <td>to do/make</td>
                        </tr>
                        <tr>
                            <td>yo</td>
                            <td>soy</td>
                            <td>estoy</td>
                            <td>voy</td>
                            <td>tengo</td>
                            <td>hago</td>
                        </tr>
                        <tr>
                            <td>tú</td>
                            <td>eres</td>
                            <td>estás</td>
                            <td>vas</td>
                            <td>tienes</td>
                            <td>haces</td>
                        </tr>
                        <tr>
                            <td>él/ella/usted</td>
                            <td>es</td>
                            <td>está</td>
                            <td>va</td>
                            <td>tiene</td>
                            <td>hace</td>
                        </tr>
                        <tr>
                            <td>nosotros/as</td>
                            <td>somos</td>
                            <td>estamos</td>
                            <td>vamos</td>
                            <td>tenemos</td>
                            <td>hacemos</td>
                        </tr>
                        <tr>
                            <td>vosotros/as</td>
                            <td>sois</td>
                            <td>estáis</td>
                            <td>vais</td>
                            <td>tenéis</td>
                            <td>hacéis</td>
                        </tr>
                        <tr>
                            <td>ellos/ellas/ustedes</td>
                            <td>son</td>
                            <td>están</td>
                            <td>van</td>
                            <td>tienen</td>
                            <td>hacen</td>
                        </tr>
                    </tbody></table>
                </div>

                <div class="card">
                    <table>
                        <tbody><tr>
                            <th>Subject</th>
                            <th>dar (to give)</th>
                            <th>saber (to know)</th>
                            <th>decir (to say)</th>
                            <th>poner (to put)</th>
                            <th>ver (to see)</th>
                        </tr>
                        <tr>
                            <td>yo</td>
                            <td>doy</td>
                            <td>sé</td>
                            <td>digo</td>
                            <td>pongo</td>
                            <td>veo</td>
                        </tr>
                        <tr>
                            <td>tú</td>
                            <td>das</td>
                            <td>sabes</td>
                            <td>dices</td>
                            <td>pones</td>
                            <td>ves</td>
                        </tr>
                        <tr>
                            <td>él/ella/usted</td>
                            <td>da</td>
                            <td>sabe</td>
                            <td>dice</td>
                            <td>pone</td>
                            <td>ve</td>
                        </tr>
                        <tr>
                            <td>nosotros/as</td>
                            <td>damos</td>
                            <td>sabemos</td>
                            <td>decimos</td>
                            <td>ponemos</td>
                            <td>vemos</td>
                        </tr>
                        <tr>
                            <td>vosotros/as</td>
                            <td>dais</td>
                            <td>sabéis</td>
                            <td>decís</td>
                            <td>ponéis</td>
                            <td>veis</td>
                        </tr>
                        <tr>
                            <td>ellos/ellas/ustedes</td>
                            <td>dan</td>
                            <td>saben</td>
                            <td>dicen</td>
                            <td>ponen</td>
                            <td>ven</td>
                        </tr>
                    </tbody></table>
                </div>

                <div class="card">
                    <table>
                        <tbody><tr>
                            <th>Subject</th>
                            <th>venir (to come)</th>
                            <th>poder (can)</th>
                            <th>querer (to want)</th>
                            <th>salir (to leave)</th>
                            <th>oír (to hear)</th>
                        </tr>
                        <tr>
                            <td>yo</td>
                            <td>vengo</td>
                            <td>puedo</td>
                            <td>quiero</td>
                            <td>salgo</td>
                            <td>oigo</td>
                        </tr>
                        <tr>
                            <td>tú</td>
                            <td>vienes</td>
                            <td>puedes</td>
                            <td>quieres</td>
                            <td>sales</td>
                            <td>oyes</td>
                        </tr>
                        <tr>
                            <td>él/ella/usted</td>
                            <td>viene</td>
                            <td>puede</td>
                            <td>quiere</td>
                            <td>sale</td>
                            <td>oye</td>
                        </tr>
                        <tr>
                            <td>nosotros/as</td>
                            <td>venimos</td>
                            <td>podemos</td>
                            <td>queremos</td>
                            <td>salimos</td>
                            <td>oímos</td>
                        </tr>
                        <tr>
                            <td>vosotros/as</td>
                            <td>venís</td>
                            <td>podéis</td>
                            <td>queréis</td>
                            <td>salís</td>
                            <td>oís</td>
                        </tr>
                        <tr>
                            <td>ellos/ellas/ustedes</td>
                            <td>vienen</td>
                            <td>pueden</td>
                            <td>quieren</td>
                            <td>salen</td>
                            <td>oyen</td>
                        </tr>
                    </tbody></table>
                </div>

                <h3 class="topic-title">Past Simple (Pretérito)</h3>
                <div class="card">
                    <table>
                        <tbody><tr>
                            <th>Subject</th>
                            <th>ser/ir</th>
                            <th>estar</th>
                            <th>tener</th>
                            <th>hacer</th>
                            <th>dar</th>
                        </tr>
                        <tr>
                            <td>yo</td>
                            <td>fui</td>
                            <td>estuve</td>
                            <td>tuve</td>
                            <td>hice</td>
                            <td>di</td>
                        </tr>
                        <tr>
                            <td>tú</td>
                            <td>fuiste</td>
                            <td>estuviste</td>
                            <td>tuviste</td>
                            <td>hiciste</td>
                            <td>diste</td>
                        </tr>
                        <tr>
                            <td>él/ella/usted</td>
                            <td>fue</td>
                            <td>estuvo</td>
                            <td>tuvo</td>
                            <td>hizo</td>
                            <td>dio</td>
                        </tr>
                        <tr>
                            <td>nosotros/as</td>
                            <td>fuimos</td>
                            <td>estuvimos</td>
                            <td>tuvimos</td>
                            <td>hicimos</td>
                            <td>dimos</td>
                        </tr>
                        <tr>
                            <td>vosotros/as</td>
                            <td>fuisteis</td>
                            <td>estuvisteis</td>
                            <td>tuvisteis</td>
                            <td>hicisteis</td>
                            <td>disteis</td>
                        </tr>
                        <tr>
                            <td>ellos/ellas/ustedes</td>
                            <td>fueron</td>
                            <td>estuvieron</td>
                            <td>tuvieron</td>
                            <td>hicieron</td>
                            <td>dieron</td>
                        </tr>
                    </tbody></table>
                </div>

                <div class="card">
                    <table>
                        <tbody><tr>
                            <th>Subject</th>
                            <th>saber</th>
                            <th>poner</th>
                            <th>decir</th>
                            <th>venir</th>
                            <th>traer</th>
                        </tr>
                        <tr>
                            <td>yo</td>
                            <td>supe</td>
                            <td>puse</td>
                            <td>dije</td>
                            <td>vine</td>
                            <td>traje</td>
                        </tr>
                        <tr>
                            <td>tú</td>
                            <td>supiste</td>
                            <td>pusiste</td>
                            <td>dijiste</td>
                            <td>viniste</td>
                            <td>trajiste</td>
                        </tr>
                        <tr>
                            <td>él/ella/usted</td>
                            <td>supo</td>
                            <td>puso</td>
                            <td>dijo</td>
                            <td>vino</td>
                            <td>trajo</td>
                        </tr>
                        <tr>
                            <td>nosotros/as</td>
                            <td>supimos</td>
                            <td>pusimos</td>
                            <td>dijimos</td>
                            <td>vinimos</td>
                            <td>trajimos</td>
                        </tr>
                        <tr>
                            <td>vosotros/as</td>
                            <td>supisteis</td>
                            <td>pusisteis</td>
                            <td>dijisteis</td>
                            <td>vinisteis</td>
                            <td>trajisteis</td>
                        </tr>
                        <tr>
                            <td>ellos/ellas/ustedes</td>
                            <td>supieron</td>
                            <td>pusieron</td>
                            <td>dijeron</td>
                            <td>vinieron</td>
                            <td>trajeron</td>
                        </tr>
                    </tbody></table>
                </div>

                <h3 class="topic-title">Future Simple (Futuro)</h3>
                <div class="card">
                    <table>
                        <tbody><tr>
                            <th>Subject</th>
                            <th>ser</th>
                            <th>estar</th>
                            <th>ir</th>
                            <th>tener</th>
                            <th>hacer</th>
                        </tr>
                        <tr>
                            <td>yo</td>
                            <td>seré</td>
                            <td>estaré</td>
                            <td>iré</td>
                            <td>tendré</td>
                            <td>haré</td>
                        </tr>
                        <tr>
                            <td>tú</td>
                            <td>serás</td>
                            <td>estarás</td>
                            <td>irás</td>
                            <td>tendrás</td>
                            <td>harás</td>
                        </tr>
                        <tr>
                            <td>él/ella/usted</td>
                            <td>será</td>
                            <td>estará</td>
                            <td>irá</td>
                            <td>tendrá</td>
                            <td>hará</td>
                        </tr>
                        <tr>
                            <td>nosotros/as</td>
                            <td>seremos</td>
                            <td>estaremos</td>
                            <td>iremos</td>
                            <td>tendremos</td>
                            <td>haremos</td>
                        </tr>
                        <tr>
                            <td>vosotros/as</td>
                            <td>seréis</td>
                            <td>estaréis</td>
                            <td>iréis</td>
                            <td>tendréis</td>
                            <td>haréis</td>
                        </tr>
                        <tr>
                            <td>ellos/ellas/ustedes</td>
                            <td>serán</td>
                            <td>estarán</td>
                            <td>irán</td>
                            <td>tendrán</td>
                            <td>harán</td>
                        </tr>
                    </tbody></table>
                </div>

                <div class="card">
                    <table>
                        <tbody><tr>
                            <th>Subject</th>
                            <th>decir</th>
                            <th>venir</th>
                            <th>poner</th>
                            <th>salir</th>
                            <th>poder</th>
                        </tr>
                        <tr>
                            <td>yo</td>
                            <td>diré</td>
                            <td>vendré</td>
                            <td>pondré</td>
                            <td>saldré</td>
                            <td>podré</td>
                        </tr>
                        <tr>
                            <td>tú</td>
                            <td>dirás</td>
                            <td>vendrás</td>
                            <td>pondrás</td>
                            <td>saldrás</td>
                            <td>podrás</td>
                        </tr>
                        <tr>
                            <td>él/ella/usted</td>
                            <td>dirá</td>
                            <td>vendrá</td>
                            <td>pondrá</td>
                            <td>saldrá</td>
                            <td>podrá</td>
                        </tr>
                        <tr>
                            <td>nosotros/as</td>
                            <td>diremos</td>
                            <td>vendremos</td>
                            <td>pondremos</td>
                            <td>saldremos</td>
                            <td>podremos</td>
                        </tr>
                        <tr>
                            <td>vosotros/as</td>
                            <td>diréis</td>
                            <td>vendréis</td>
                            <td>pondréis</td>
                            <td>saldréis</td>
                            <td>podréis</td>
                        </tr>
                        <tr>
                            <td>ellos/ellas/ustedes</td>
                            <td>dirán</td>
                            <td>vendrán</td>
                            <td>pondrán</td>
                            <td>saldrán</td>
                            <td>podrán</td>
                        </tr>
                    </tbody></table>
                </div>

                <h3 class="topic-title">Additional Important Irregular Verbs</h3>
                <div class="card">
                    <p>Click on any verb to see its full conjugation:</p>
                    <ul>
                        <li><span class="verb" data-verb="andar">andar</span> (to walk)</li>
                        <li><span class="verb" data-verb="caer">caer</span> (to fall)</li>
                        <li><span class="verb" data-verb="conocer">conocer</span> (to know/meet)</li>
                        <li><span class="verb" data-verb="construir">construir</span> (to build)</li>
                        <li><span class="verb" data-verb="creer">creer</span> (to believe)</li>
                        <li><span class="verb" data-verb="dormir">dormir</span> (to sleep)</li>
                        <li><span class="verb" data-verb="encontrar">encontrar</span> (to find)</li>
                        <li><span class="verb" data-verb="jugar">jugar</span> (to play)</li>
                        <li><span class="verb" data-verb="leer">leer</span> (to read)</li>
                        <li><span class="verb" data-verb="morir">morir</span> (to die)</li>
                        <li><span class="verb" data-verb="pedir">pedir</span> (to ask for)</li>
                        <li><span class="verb" data-verb="pensar">pensar</span> (to think)</li>
                        <li><span class="verb" data-verb="preferir">preferir</span> (to prefer)</li>
                        <li><span class="verb" data-verb="querer">querer</span> (to want)</li>
                        <li><span class="verb" data-verb="seguir">seguir</span> (to follow)</li>
                        <li><span class="verb" data-verb="sentir">sentir</span> (to feel)</li>
                        <li><span class="verb" data-verb="servir">servir</span> (to serve)</li>
                        <li><span class="verb" data-verb="traer">traer</span> (to bring)</li>
                        <li><span class="verb" data-verb="valer">valer</span> (to be worth)</li>
                        <li><span class="verb" data-verb="ver">ver</span> (to see)</li>
                    </ul>
                </div>
            </div>

            <!-- Vocabulary Page -->
            <div id="vocabulary" class="page">
                <h2 class="section-title">Vocabulary by Topic</h2>
                
                <div class="topic-section">
                    <h3 class="topic-title">El Barrio (Neighborhood)</h3>
                    <div class="card">
                        <table>
                            <tbody><tr>
                                <th>Spanish</th>
                                <th>English</th>
                            </tr>
                            <tr>
                                <td>la calle</td>
                                <td>the street</td>
                            </tr>
                            <tr>
                                <td>la plaza</td>
                                <td>the square</td>
                            </tr>
                            <tr>
                                <td>la tienda</td>
                                <td>the store</td>
                            </tr>
                            <tr>
                                <td>el mercado</td>
                                <td>the market</td>
                            </tr>
                            <tr>
                                <td>el banco</td>
                                <td>the bank</td>
                            </tr>
                            <tr>
                                <td>la farmacia</td>
                                <td>the pharmacy</td>
                            </tr>
                            <tr>
                                <td>el parque</td>
                                <td>the park</td>
                            </tr>
                            <tr>
                                <td>la biblioteca</td>
                                <td>the library</td>
                            </tr>
                            <tr>
                                <td>el restaurante</td>
                                <td>the restaurant</td>
                            </tr>
                            <tr>
                                <td>el cine</td>
                                <td>the cinema</td>
                            </tr>
                            <tr>
                                <td>la panadería</td>
                                <td>the bakery</td>
                            </tr>
                            <tr>
                                <td>el supermercado</td>
                                <td>the supermarket</td>
                            </tr>
                            <tr>
                                <td>la estación</td>
                                <td>the station</td>
                            </tr>
                            <tr>
                                <td>la esquina</td>
                                <td>the corner</td>
                            </tr>
                            <tr>
                                <td>el semáforo</td>
                                <td>the traffic light</td>
                            </tr>
                            <tr>
                                <td>la acera</td>
                                <td>the sidewalk</td>
                            </tr>
                            <tr>
                                <td>el ayuntamiento</td>
                                <td>the city hall</td>
                            </tr>
                            <tr>
                                <td>el hospital</td>
                                <td>the hospital</td>
                            </tr>
                            <tr>
                                <td>la peluquería</td>
                                <td>the hair salon</td>
                            </tr>
                            <tr>
                                <td>la cafetería</td>
                                <td>the café</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="caminar">caminar</td>
                                <td>to walk</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="comprar">comprar</td>
                                <td>to buy</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="vender">vender</td>
                                <td>to sell</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="buscar">buscar</td>
                                <td>to look for</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="encontrar">encontrar</td>
                                <td>to find</td>
                            </tr>
                        </tbody></table>
                    </div>
                </div>
                
                <div class="topic-section">
                    <h3 class="topic-title">Viajes (Travel)</h3>
                    <div class="card">
                        <table>
                            <tbody><tr>
                                <th>Spanish</th>
                                <th>English</th>
                            </tr>
                            <tr>
                                <td>el pasaporte</td>
                                <td>the passport</td>
                            </tr>
                            <tr>
                                <td>el billete</td>
                                <td>the ticket</td>
                            </tr>
                            <tr>
                                <td>el avión</td>
                                <td>the airplane</td>
                            </tr>
                            <tr>
                                <td>el aeropuerto</td>
                                <td>the airport</td>
                            </tr>
                            <tr>
                                <td>el hotel</td>
                                <td>the hotel</td>
                            </tr>
                            <tr>
                                <td>la maleta</td>
                                <td>the suitcase</td>
                            </tr>
                            <tr>
                                <td>el mapa</td>
                                <td>the map</td>
                            </tr>
                            <tr>
                                <td>la playa</td>
                                <td>the beach</td>
                            </tr>
                            <tr>
                                <td>la montaña</td>
                                <td>the mountain</td>
                            </tr>
                            <tr>
                                <td>el tren</td>
                                <td>the train</td>
                            </tr>
                            <tr>
                                <td>el autobús</td>
                                <td>the bus</td>
                            </tr>
                            <tr>
                                <td>el taxi</td>
                                <td>the taxi</td>
                            </tr>
                            <tr>
                                <td>la reserva</td>
                                <td>the reservation</td>
                            </tr>
                            <tr>
                                <td>el alojamiento</td>
                                <td>the accommodation</td>
                            </tr>
                            <tr>
                                <td>la excursión</td>
                                <td>the excursion</td>
                            </tr>
                            <tr>
                                <td>la frontera</td>
                                <td>the border</td>
                            </tr>
                            <tr>
                                <td>la aduana</td>
                                <td>customs</td>
                            </tr>
                            <tr>
                                <td>el equipaje</td>
                                <td>the luggage</td>
                            </tr>
                            <tr>
                                <td>la moneda</td>
                                <td>the currency</td>
                            </tr>
                            <tr>
                                <td>la llegada</td>
                                <td>the arrival</td>
                            </tr>
                            <tr>
                                <td>la salida</td>
                                <td>the departure</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="viajar">viajar</td>
                                <td>to travel</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="reservar">reservar</td>
                                <td>to reserve</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="visitar">visitar</td>
                                <td>to visit</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="explorar">explorar</td>
                                <td>to explore</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="relajarse">relajarse</td>
                                <td>to relax</td>
                            </tr>
                        </tbody></table>
                    </div>
                </div>
                
                <div class="topic-section">
                    <h3 class="topic-title">La Rutina (Daily Routine)</h3>
                    <div class="card">
                        <table>
                            <tbody><tr>
                                <th>Spanish</th>
                                <th>English</th>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="despertarse">despertarse</td>
                                <td>to wake up</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="levantarse">levantarse</td>
                                <td>to get up</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="ducharse">ducharse</td>
                                <td>to shower</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="cepillarse">cepillarse</td>
                                <td>to brush</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="vestirse">vestirse</td>
                                <td>to get dressed</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="desayunar">desayunar</td>
                                <td>to have breakfast</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="almorzar">almorzar</td>
                                <td>to have lunch</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="cenar">cenar</td>
                                <td>to have dinner</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="trabajar">trabajar</td>
                                <td>to work</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="estudiar">estudiar</td>
                                <td>to study</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="acostarse">acostarse</td>
                                <td>to go to bed</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="dormir">dormir</td>
                                <td>to sleep</td>
                            </tr>
                            <tr>
                                <td>la mañana</td>
                                <td>the morning</td>
                            </tr>
                            <tr>
                                <td>la tarde</td>
                                <td>the afternoon</td>
                            </tr>
                            <tr>
                                <td>la noche</td>
                                <td>the night</td>
                            </tr>
                            <tr>
                                <td>el desayuno</td>
                                <td>breakfast</td>
                            </tr>
                            <tr>
                                <td>el almuerzo</td>
                                <td>lunch</td>
                            </tr>
                            <tr>
                                <td>la cena</td>
                                <td>dinner</td>
                            </tr>
                            <tr>
                                <td>temprano</td>
                                <td>early</td>
                            </tr>
                            <tr>
                                <td>tarde</td>
                                <td>late</td>
                            </tr>
                        </tbody></table>
                    </div>
                </div>
                
                <div class="topic-section">
                    <h3 class="topic-title">La Casa (Home Environment)</h3>
                    <div class="card">
                        <table>
                            <tbody><tr>
                                <th>Spanish</th>
                                <th>English</th>
                            </tr>
                            <tr>
                                <td>la casa</td>
                                <td>the house</td>
                            </tr>
                            <tr>
                                <td>el apartamento</td>
                                <td>the apartment</td>
                            </tr>
                            <tr>
                                <td>la cocina</td>
                                <td>the kitchen</td>
                            </tr>
                            <tr>
                                <td>el baño</td>
                                <td>the bathroom</td>
                            </tr>
                            <tr>
                                <td>el dormitorio</td>
                                <td>the bedroom</td>
                            </tr>
                            <tr>
                                <td>la sala</td>
                                <td>the living room</td>
                            </tr>
                            <tr>
                                <td>el comedor</td>
                                <td>the dining room</td>
                            </tr>
                            <tr>
                                <td>la ventana</td>
                                <td>the window</td>
                            </tr>
                            <tr>
                                <td>la puerta</td>
                                <td>the door</td>
                            </tr>
                            <tr>
                                <td>la cama</td>
                                <td>the bed</td>
                            </tr>
                            <tr>
                                <td>la mesa</td>
                                <td>the table</td>
                            </tr>
                            <tr>
                                <td>la silla</td>
                                <td>the chair</td>
                            </tr>
                            <tr>
                                <td>el sofá</td>
                                <td>the sofa</td>
                            </tr>
                            <tr>
                                <td>el armario</td>
                                <td>the wardrobe</td>
                            </tr>
                            <tr>
                                <td>la estantería</td>
                                <td>the bookshelf</td>
                            </tr>
                            <tr>
                                <td>el espejo</td>
                                <td>the mirror</td>
                            </tr>
                            <tr>
                                <td>el lavabo</td>
                                <td>the sink</td>
                            </tr>
                            <tr>
                                <td>la ducha</td>
                                <td>the shower</td>
                            </tr>
                            <tr>
                                <td>el jardín</td>
                                <td>the garden</td>
                            </tr>
                            <tr>
                                <td>el balcón</td>
                                <td>the balcony</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="limpiar">limpiar</td>
                                <td>to clean</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="cocinar">cocinar</td>
                                <td>to cook</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="decorar">decorar</td>
                                <td>to decorate</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="ordenar">ordenar</td>
                                <td>to tidy up</td>
                            </tr>
                        </tbody></table>
                    </div>
                </div>
                
                <div class="topic-section">
                    <h3 class="topic-title">Pasatiempos (Hobbies)</h3>
                    <div class="card">
                        <table>
                            <tbody><tr>
                                <th>Spanish</th>
                                <th>English</th>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="leer">leer</td>
                                <td>to read</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="escribir">escribir</td>
                                <td>to write</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="dibujar">dibujar</td>
                                <td>to draw</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="pintar">pintar</td>
                                <td>to paint</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="cantar">cantar</td>
                                <td>to sing</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="bailar">bailar</td>
                                <td>to dance</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="tocar">tocar</td>
                                <td>to play (instrument)</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="jugar">jugar</td>
                                <td>to play (game/sport)</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="nadar">nadar</td>
                                <td>to swim</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="correr">correr</td>
                                <td>to run</td>
                            </tr>
                            <tr>
                                <td>el deporte</td>
                                <td>the sport</td>
                            </tr>
                            <tr>
                                <td>la música</td>
                                <td>the music</td>
                            </tr>
                            <tr>
                                <td>el libro</td>
                                <td>the book</td>
                            </tr>
                            <tr>
                                <td>la película</td>
                                <td>the movie</td>
                            </tr>
                            <tr>
                                <td>el instrumento</td>
                                <td>the instrument</td>
                            </tr>
                            <tr>
                                <td>la guitarra</td>
                                <td>the guitar</td>
                            </tr>
                            <tr>
                                <td>el piano</td>
                                <td>the piano</td>
                            </tr>
                            <tr>
                                <td>el violín</td>
                                <td>the violin</td>
                            </tr>
                            <tr>
                                <td>la fotografía</td>
                                <td>photography</td>
                            </tr>
                            <tr>
                                <td>el ajedrez</td>
                                <td>chess</td>
                            </tr>
                            <tr>
                                <td>el tenis</td>
                                <td>tennis</td>
                            </tr>
                            <tr>
                                <td>el fútbol</td>
                                <td>soccer/football</td>
                            </tr>
                            <tr>
                                <td>el baloncesto</td>
                                <td>basketball</td>
                            </tr>
                            <tr>
                                <td>la natación</td>
                                <td>swimming</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="coleccionar">coleccionar</td>
                                <td>to collect</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="practicar">practicar</td>
                                <td>to practice</td>
                            </tr>
                        </tbody></table>
                    </div>
                </div>
                
                <div class="topic-section">
                    <h3 class="topic-title">La Escuela (School Environment)</h3>
                    <div class="card">
                        <table>
                            <tbody><tr>
                                <th>Spanish</th>
                                <th>English</th>
                            </tr>
                            <tr>
                                <td>la escuela</td>
                                <td>the school</td>
                            </tr>
                            <tr>
                                <td>el colegio</td>
                                <td>the school</td>
                            </tr>
                            <tr>
                                <td>la universidad</td>
                                <td>the university</td>
                            </tr>
                            <tr>
                                <td>la clase</td>
                                <td>the class</td>
                            </tr>
                            <tr>
                                <td>el profesor / la profesora</td>
                                <td>the teacher</td>
                            </tr>
                            <tr>
                                <td>el estudiante / la estudiante</td>
                                <td>the student</td>
                            </tr>
                            <tr>
                                <td>el libro</td>
                                <td>the book</td>
                            </tr>
                            <tr>
                                <td>el cuaderno</td>
                                <td>the notebook</td>
                            </tr>
                            <tr>
                                <td>el bolígrafo</td>
                                <td>the pen</td>
                            </tr>
                            <tr>
                                <td>el lápiz</td>
                                <td>the pencil</td>
                            </tr>
                            <tr>
                                <td>la pizarra</td>
                                <td>the blackboard</td>
                            </tr>
                            <tr>
                                <td>el horario</td>
                                <td>the schedule</td>
                            </tr>
                            <tr>
                                <td>la tarea</td>
                                <td>the homework</td>
                            </tr>
                            <tr>
                                <td>el examen</td>
                                <td>the exam</td>
                            </tr>
                            <tr>
                                <td>la prueba</td>
                                <td>the test</td>
                            </tr>
                            <tr>
                                <td>la asignatura</td>
                                <td>the subject</td>
                            </tr>
                            <tr>
                                <td>las matemáticas</td>
                                <td>mathematics</td>
                            </tr>
                            <tr>
                                <td>la ciencia</td>
                                <td>science</td>
                            </tr>
                            <tr>
                                <td>la historia</td>
                                <td>history</td>
                            </tr>
                            <tr>
                                <td>la geografía</td>
                                <td>geography</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="aprender">aprender</td>
                                <td>to learn</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="enseñar">enseñar</td>
                                <td>to teach</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="estudiar">estudiar</td>
                                <td>to study</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="preguntar">preguntar</td>
                                <td>to ask</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="responder">responder</td>
                                <td>to answer</td>
                            </tr>
                        </tbody></table>
                    </div>
                </div>

                <div class="topic-section">
                    <h3 class="topic-title">Comida y Bebida (Food and Drink)</h3>
                    <div class="card">
                        <table>
                            <tbody><tr>
                                <th>Spanish</th>
                                <th>English</th>
                            </tr>
                            <tr>
                                <td>el pan</td>
                                <td>bread</td>
                            </tr>
                            <tr>
                                <td>la leche</td>
                                <td>milk</td>
                            </tr>
                            <tr>
                                <td>el queso</td>
                                <td>cheese</td>
                            </tr>
                            <tr>
                                <td>la mantequilla</td>
                                <td>butter</td>
                            </tr>
                            <tr>
                                <td>el huevo</td>
                                <td>egg</td>
                            </tr>
                            <tr>
                                <td>la carne</td>
                                <td>meat</td>
                            </tr>
                            <tr>
                                <td>el pollo</td>
                                <td>chicken</td>
                            </tr>
                            <tr>
                                <td>el pescado</td>
                                <td>fish</td>
                            </tr>
                            <tr>
                                <td>la fruta</td>
                                <td>fruit</td>
                            </tr>
                            <tr>
                                <td>las verduras</td>
                                <td>vegetables</td>
                            </tr>
                            <tr>
                                <td>la manzana</td>
                                <td>apple</td>
                            </tr>
                            <tr>
                                <td>el plátano</td>
                                <td>banana</td>
                            </tr>
                            <tr>
                                <td>la naranja</td>
                                <td>orange</td>
                            </tr>
                            <tr>
                                <td>el arroz</td>
                                <td>rice</td>
                            </tr>
                            <tr>
                                <td>la pasta</td>
                                <td>pasta</td>
                            </tr>
                            <tr>
                                <td>la sopa</td>
                                <td>soup</td>
                            </tr>
                            <tr>
                                <td>el agua</td>
                                <td>water</td>
                            </tr>
                            <tr>
                                <td>el café</td>
                                <td>coffee</td>
                            </tr>
                            <tr>
                                <td>el té</td>
                                <td>tea</td>
                            </tr>
                            <tr>
                                <td>el jugo / el zumo</td>
                                <td>juice</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="comer">comer</td>
                                <td>to eat</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="beber">beber</td>
                                <td>to drink</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="cocinar">cocinar</td>
                                <td>to cook</td>
                            </tr>
                            <tr>
                                <td class="verb" data-verb="probar">probar</td>
                                <td>to taste/try</td>
                            </tr>
                        </tbody></table>
                    </div>
                </div>
            </div>

            <!-- Custom Vocabulary Page -->
            <div id="custom-vocab" class="page">
                <h2 class="section-title">Custom Vocabulary</h2>
                <p>Add your own vocabulary words and verbs. They will be saved in your browser.</p>
                
                <div class="custom-vocab-form">
                    <h3 class="topic-title">Add New Words</h3>
                    <div class="custom-vocab-container">
                        <div class="input-group">
                            <label for="spanish-word">Spanish Word:</label>
                            <input type="text" id="spanish-word" placeholder="Enter word in Spanish">
                        </div>
                        <div class="input-group">
                            <label for="english-translation">English Translation:</label>
                            <input type="text" id="english-translation" placeholder="Enter translation in English">
                        </div>
                        <div class="input-group">
                            <label for="word-category">Category:</label>
                            <select id="word-category">
                                <option value="Barrio">El Barrio (Neighborhood)</option>
                                <option value="Viajes">Viajes (Travel)</option>
                                <option value="Rutina">La Rutina (Daily Routine)</option>
                                <option value="Casa">La Casa (Home Environment)</option>
                                <option value="Pasatiempos">Pasatiempos (Hobbies)</option>
                                <option value="Escuela">La Escuela (School Environment)</option>
                                <option value="Comida">Comida y Bebida (Food and Drink)</option>
                                <option value="Otro">Otro (Other)</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="is-verb">Is this a verb?</label>
                            <input type="checkbox" id="is-verb">
                        </div>
                    </div>
                    <button class="action-btn" id="add-word-btn">Add Word</button>
                </div>
                
                <div class="custom-vocab-list">
                    <h3 class="topic-title">Your Custom Vocabulary</h3>
                    <div id="custom-words-container">
                        <p>No custom words added yet. Add words above to see them here.</p>
                    </div>
                </div>
            </div>

            <!-- Question Generator Page -->
            <div id="question-generator" class="page">
                <h2 class="section-title">IB Spanish ab initio Question Generator</h2>
                <div class="question-controls">
                    <div class="filter-group">
                        <label for="question-type">Question Type:</label>
                        <select id="question-type">
                            <option value="writing">Writing Task</option>
                            <option value="reading">Reading Comprehension</option>
                            <option value="fill-blank">Fill in the Blanks</option>
                            <option value="true-false">True or False</option>
                            <option value="multiple-choice">Multiple Choice</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="topic-select">Topic:</label>
                        <select id="topic-select">
                            <option value="all">All Topics</option>
                            <option value="barrio">El Barrio</option>
                            <option value="travel">Viajes</option>
                            <option value="routine">La Rutina</option>
                            <option value="home">La Casa</option>
                            <option value="hobbies">Pasatiempos</option>
                            <option value="school">La Escuela</option>
                            <option value="food">Comida y Bebida</option>
                        </select>
                    </div>
                    <div class="filter-group" id="writing-format-group" style="display:block;">
                        <label for="writing-format">Writing Format:</label>
                        <select id="writing-format">
                            <option value="all">Any Format</option>
                            <option value="article">Artículo</option>
                            <option value="diary">Diario</option>
                            <option value="email-formal">Correo Electrónico Formal</option>
                            <option value="email-informal">Correo Electrónico Informal</option>
                            <option value="letter-formal">Carta Formal</option>
                            <option value="letter-informal">Carta Informal</option>
                            <option value="postcard">Postal</option>
                            <option value="poster">Poster/Cartel</option>
                            <option value="brochure">Folleto</option>
                            <option value="interview">Entrevista</option>
                            <option value="note">Nota</option>
                            <option value="presentation">Presentación</option>
                            <option value="ad">Anuncio</option>
                            <option value="blog">Blog</option>
                        </select>
                    </div>
                    <button class="action-btn" id="generate-question">Generate Question</button>
                </div>
                <div class="question-display" id="question-result">
                    <p>Click "Generate Question" to get an IB Spanish ab initio question.</p>
                </div>
                
                <!-- Answer Section -->
                <div class="answer-section" id="answer-section">
                    <h3>Your Answer</h3>
                    <textarea id="user-answer" placeholder="Write your answer here..."></textarea>
                    <button class="action-btn" id="submit-answer">Submit Answer</button>
                </div>
                
                <!-- Feedback Section -->
                <div class="feedback-section" id="feedback-section">
                    <h3>Feedback</h3>
                    <div class="score-display" id="score-display"></div>
                    <div id="correction-display"></div>
                </div>
            </div>

            <!-- Writing Formats Page -->
            <div id="writing-formats" class="page">
                <h2 class="section-title">Spanish Ab Initio Writing Formats</h2>
                
                <div class="toc">
                    <h3>Table of Contents</h3>
                    <ul>
                        <li><a href="#articulo">Artículo (Article)</a></li>
                        <li><a href="#diario">Diario (Diary)</a></li>
                        <li><a href="#email-formal">Correo Electrónico Formal (Formal Email)</a></li>
                        <li><a href="#email-informal">Correo Electrónico Informal (Informal Email)</a></li>
                        <li><a href="#carta-formal">Carta Formal (Formal Letter)</a></li>
                        <li><a href="#carta-informal">Carta Informal (Informal Letter)</a></li>
                        <li><a href="#postal">Postal (Postcard)</a></li>
                        <li><a href="#poster">Poster (Cartel/Afiche)</a></li>
                        <li><a href="#folleto">Folleto (Brochure)</a></li>
                        <li><a href="#entrevista">Entrevista (Interview)</a></li>
                        <li><a href="#nota">Nota (Note)</a></li>
                        <li><a href="#presentacion">Presentación (Presentation)</a></li>
                        <li><a href="#anuncio">Anuncio (Advertisement)</a></li>
                        <li><a href="#blog">Blog</a></li>
                    </ul>
                </div>
                
                <div id="articulo" class="writing-format">
                    <h3 class="format-title">Artículo (Article)</h3>
                    <div class="format-content">
                        <p>Tips: In the AB Initio Course Activities and in the Written Assessments remember to always include the following items in an article:</p>
                        <ul>
                            <li>Title</li>
                            <li>Introduction</li>
                            <li>Body</li>
                            <li>Conclusion</li>
                            <li>Catchy closing line</li>
                            <li>Name of author (in Spanish)</li>
                        </ul>
                        <p>Note: If the instructions specify that any other information should be included, make sure you include it.</p>
                        
                        <h4>Sample Article:</h4>
                        <div class="format-example">
                            <h4>Da un Regalo a un Niño sin Padres</h4>
                            <p>Es muy fácil hacer a un niño huérfano feliz...</p>
                            <p>El grado 11 planea una recolección de juguetes para un orfanato...</p>
                            <p>¡Anímate! Ayúdanos a hacer a un niño feliz. ¡Es muy fácil!</p>
                            <p>Escrito por: Juanita Ramírez Pinzón</p>
                        </div>
                        
                        <div class="format-tips">
                            <h4>Alternatives for Articles:</h4>
                            <ul>
                                <li><strong>Title:</strong> interesting, catchy title related to the article you have to write.</li>
                                <li><strong>Introduction:</strong> short paragraph introducing what you will be talking about in the body of the article. Make sure you define verb tense in which you must write and in which person (yo, nosotros, etc)</li>
                                <li><strong>Body:</strong> two or three paragraphs containing all the information you must provide (given in the instructions of the task). Make sure you define verb tense in which you must write and in which person (usually you should continue with the one you started with)</li>
                                <li><strong>Conclusion:</strong> short paragraph concluding the information given above. Make sure you define verb tense in which you must write and in which person (usually you should continue with the one you started with)</li>
                                <li><strong>Closing Line:</strong> catchy line (phrase) to leave the readers thinking about what you wrote.</li>
                                <li><strong>Name of Author:</strong> any name is valid preceded by the phrase "Escrito por:" (written by)</li>
                            </ul>
                            <p>Note: All names included in the letter should be in Spanish!</p>
                        </div>
                    </div>
                </div>
                
                <div id="diario" class="writing-format">
                    <h3 class="format-title">Diario (Diary)</h3>
                    <div class="format-content">
                        <p>Tips: In the AB Initio Course Activities and in the Written Assessments remember to always include the following items in a diary entry:</p>
                        <ul>
                            <li>Date (in Spanish format: 8 de marzo de 2011)</li>
                            <li>Opening line</li>
                            <li>Introduction (short, precise, informal, personal, in first person)</li>
                            <li>Body (informal, personal, in first person)</li>
                            <li>Closing line (informal)</li>
                            <li>"Farewell" line (informal)</li>
                            <li>Name or signature of person writing the entry (in Spanish)</li>
                        </ul>
                        <p>Note: If the instructions specify that any other information should be included in the entry, make sure you include it.</p>
                        <p>Diary entries should always be informal, personal and written in first person (yo).</p>
                        
                        <h4>Sample Diary Entry:</h4>
                        <div class="format-example">
                            <p>8 de marzo de 2011</p>
                            <p>Querido Diario:</p>
                            <p>Es invierno y temporada de fiestas. La Navidad fue fenomenal, por eso quiero hablar de ella.</p>
                            <p>Me encanta la Navidad, es mi festividad favorita...</p>
                            <p>Creo que es todo por ahora.</p>
                            <p>Hasta la próxima,</p>
                            <p>Camila</p>
                        </div>
                        
                        <div class="format-tips">
                            <h4>Diary Entry Alternatives:</h4>
                            <ul>
                                <li><strong>Date:</strong> Spanish format.</li>
                                <li><strong>Opening line:</strong> Some informal options are:
                                    <ul>
                                        <li>Querido diario,</li>
                                        <li>Hola diario,</li>
                                        <li>Hola,</li>
                                    </ul>
                                </li>
                                <li><strong>Introduction:</strong> a short informal sentence describing what you are going to talk about in the "body". Written in first person.</li>
                                <li><strong>Body:</strong> informal, mostly in first person (unless you have to describe something you did in a group or with someone).</li>
                                <li><strong>Closing line:</strong> Some informal options are:
                                    <ul>
                                        <li>Creo que es todo por ahora.</li>
                                        <li>Así terminó mi día, ¡Qué horror!</li>
                                        <li>Así terminó mi día.</li>
                                        <li>Así terminó mi día ¡Excelente!</li>
                                        <li>Ojalá.... (For future activities. Ie: Ojalá me regalen una cámara el próximo año)</li>
                                    </ul>
                                </li>
                                <li><strong>Farewell line:</strong> Some informal options are:
                                    <ul>
                                        <li>Hasta la próxima,</li>
                                        <li>Chao,</li>
                                        <li>Hasta pronto,</li>
                                        <li>Adios</li>
                                    </ul>
                                </li>
                            </ul>
                            <p>Note: All names included in the entry should be in Spanish!</p>
                        </div>
                    </div>
                </div>
                
                <div id="email-formal" class="writing-format">
                    <h3 class="format-title">Correo Electrónico Formal (Formal Email)</h3>
                    <div class="format-content">
                        <p>Tips: In the AB Initio Course Activities and in the Written Assessments remember to always include the following items in an email:</p>
                        <ul>
                            <li>Email address of the receiver (in Spanish)</li>
                            <li>Email address of the sender (in Spanish)</li>
                            <li>Subject (in Spanish and relevant to the task)</li>
                            <li>Date, if you are asked to include it (in Spanish format: 8 de marzo de 2011)</li>
                            <li>Opening line and name of the person in Spanish</li>
                            <li>Short Introduction</li>
                            <li>Body</li>
                            <li>Closing line</li>
                            <li>"Farewell" line</li>
                            <li>Name or signature of person writing the email (in Spanish)</li>
                        </ul>
                        <p>Note: If the instructions specify that any other information should be included, make sure you include it.</p>
                        <p>The email format is similar to the letter format, but remember emails are usually much shorter and precise.</p>
                        
                        <h4>Sample Formal Email:</h4>
                        <div class="format-example">
                            <p>Para: ricardo@yahoo.es</p>
                            <p>De: juanita@latinmail.com</p>
                            <p>Fecha: 8 de marzo de 2011</p>
                            <p>Asunto: Ausente el próximo sábado</p>
                            <p>Estimado Señor Gutiérrez:</p>
                            <p>Espero este mensaje lo encuentre bien.</p>
                            <p>Le escribo este mensaje para informarle que no puedo ir a trabajar el proximo sábado 11 de marzo...</p>
                            <p>Siento mucho los inconvenientes que pueda causar.</p>
                            <p>Atentamente,</p>
                            <p>Juanita Ramírez Pinzón</p>
                        </div>
                        
                        <div class="format-tips">
                            <h4>Alternatives for Formal Emails:</h4>
                            <ul>
                                <li><strong>Para (To):</strong> choose any email address; just make sure you include a visible name in Spanish.</li>
                                <li><strong>De (From):</strong> choose any email address; just make sure you include a visible name in Spanish.</li>
                                <li><strong>Opening line:</strong> it goes according to the gender of the person you are writing to. Some formal options:
                                    <ul>
                                        <li>Estimado Señor X (Estimado Sr. X)</li>
                                        <li>Estimada Señora X (Estimada Sra. X)</li>
                                        <li>Apreciado Señor X (Apreciado Sr. X)</li>
                                        <li>Apreciada Señora X (Apreciada Sra. X)</li>
                                        <li>Respetado Señor X (Respetado Sr. X)</li>
                                        <li>Respetada Señora X (Respetada Sra. X)</li>
                                    </ul>
                                </li>
                                <li><strong>Introduction:</strong> formal emails should be written using the "usted" form throughout the entire letter.</li>
                                <li><strong>Body:</strong> include all required information from the instructions.</li>
                                <li><strong>Closing line:</strong> some formal options are:
                                    <ul>
                                        <li>Agradezco mucho su atención.</li>
                                        <li>Quedo en espera de su respuesta.</li>
                                        <li>Agradezco mucho su atención y quedo en espera de su respuesta.</li>
                                        <li>Gracias por su atención.</li>
                                        <li>Siento mucho los inconvenientes que pueda causar.</li>
                                    </ul>
                                </li>
                                <li><strong>Farewell line:</strong> some formal options are:
                                    <ul>
                                        <li>Atentamente,</li>
                                        <li>Cordialmente,</li>
                                        <li>Un cordial saludo,</li>
                                    </ul>
                                </li>
                            </ul>
                            <p>Note: When you don't know the name of the person you are writing to (i.e: when you write to a company) you address the company in plural: "Estimados Señores" (or "Estimados Sres.")</p>
                            <p>Note: All names included in the email should be in Spanish!</p>
                        </div>
                    </div>
                </div>
                
                <div id="email-informal" class="writing-format">
                    <h3 class="format-title">Correo Electrónico Informal (Informal Email)</h3>
                    <div class="format-content">
                        <p>Tips: In the AB Initio Course Activities and in the Written Assessments remember to include the same components as a formal email, but with informal language.</p>
                        
                        <h4>Sample Informal Email:</h4>
                        <div class="format-example">
                            <p>Para: rpablo@yahoo.es</p>
                            <p>De: juliana@latinmail.com</p>
                            <p>Fecha: 8 de marzo de 2011</p>
                            <p>Asunto: ¿Vamos al cine?</p>
                            <p>Querido Pablo:</p>
                            <p>¿Cómo estás? Yo estoy muy bien. He estado muy ocupada estudiando mucho.</p>
                            <p>En el cine están presentando la nueva película de Javer Bardem. ¿Tienes tiempo para ir a verla conmigo el fin de semana?...</p>
                            <p>Espero que podamos ir. Escríbeme pronto.</p>
                            <p>Un abrazo,</p>
                            <p>Juliana</p>
                        </div>
                        
                        <div class="format-tips">
                            <h4>Alternatives for Informal Emails:</h4>
                            <ul>
                                <li><strong>Para (To):</strong> choose any email address; just make sure you include a visible name in Spanish.</li>
                                <li><strong>De (From):</strong> choose any email address; just make sure you include a visible name in Spanish.</li>
                                <li><strong>Opening line:</strong> it goes according to the gender of the person. Some informal options:
                                    <ul>
                                        <li>Querido X</li>
                                        <li>Querida X</li>
                                        <li>Hola X</li>
                                        <li>Queridos Padres (for multiple people)</li>
                                    </ul>
                                </li>
                                <li><strong>Introduction:</strong> informal emails should be written using the "tú" form throughout the entire letter.</li>
                                <li><strong>Body:</strong> include all required information and questions to interact with the receiver. Remember it is a friendly letter.</li>
                                <li><strong>Closing line:</strong> Some informal options:
                                    <ul>
                                        <li>Escríbeme pronto. (Write soon)</li>
                                        <li>Escribiré de nuevo pronto. (I will write again soon)</li>
                                        <li>Hasta la próxima. (Until next time)</li>
                                    </ul>
                                </li>
                                <li><strong>Farewell line:</strong> Some informal options:
                                    <ul>
                                        <li>Un abrazo, (a hug)</li>
                                        <li>Un furte abrazo, (a big hug)</li>
                                        <li>Abrazos, (hugs)</li>
                                        <li>Un beso, (a kiss)</li>
                                        <li>Besos, (kisses)</li>
                                        <li>Saludos, (greetings)</li>
                                        <li>Con todo cariño, (with love)</li>
                                    </ul>
                                </li>
                            </ul>
                            <p>Note: All names included in the email should be in Spanish!</p>
                        </div>
                    </div>
                </div>
                
                <div id="carta-formal" class="writing-format">
                    <h3 class="format-title">Carta Formal (Formal Letter)</h3>
                    <div class="format-content">
                        <p>Tips: In the AB Initio Course Activities and in the Written Assessments remember to always include the following items in a formal letter:</p>
                        <ul>
                            <li>Address of the receiver in Spanish (preferably of a Spanish country)</li>
                            <li>Date (in Spanish format: 8 de marzo de 2011)</li>
                            <li>Opening line and name of the person in Spanish</li>
                            <li>Introduction of letter</li>
                            <li>Body</li>
                            <li>Closing line</li>
                            <li>"Farewell" line</li>
                            <li>Name or signature of person writing the letter (in Spanish)</li>
                        </ul>
                        <p>Note: If the instructions specify that any other information should be included in the letter, make sure you include it.</p>
                        
                        <h4>Sample Formal Letter:</h4>
                        <div class="format-example">
                            <p>Calle de las Flores 32<br>
                            Piso 4, Apto 5<br>
                            08035 Barcelona, España</p>
                            <p>Barcelona, 8 de marzo de 2011</p>
                            <p>Estimado Señor Gutiérrez:</p>
                            <p>Mi nombre es Julieta García Jiménez y le escribo esta carta porque estoy interesada en la posición de escritora en su empresa.</p>
                            <p>Soy periodista de la Universidad de Barcelona y he trabajado por dos años como escritora en la revista "Azul"...</p>
                            <p>Agradezco mucho su atención y quedo en espera de su respuesta.</p>
                            <p>Atentamente,</p>
                            <p>Julieta García Jiménez</p>
                        </div>
                        
                        <div class="format-tips">
                            <h4>Alternatives for Formal Letters:</h4>
                            <ul>
                                <li><strong>Address:</strong> you can write the full address or with abbreviations:
                                    <ul>
                                        <li>Calle (Street) - C/ or Cll.</li>
                                        <li>Avenida (Avenue) - Av.</li>
                                        <li>Carrera (Alley) - Crr.</li>
                                    </ul>
                                </li>
                                <li><strong>Opening line:</strong> it goes according to the gender of the person. Some formal options:
                                    <ul>
                                        <li>Estimado Señor X (Estimado Sr. X)</li>
                                        <li>Estimada Señora X (Estimada Sra. X)</li>
                                        <li>Apreciado Señor X (Apreciado Sr. X)</li>
                                        <li>Apreciada Señora X (Apreciada Sra. X)</li>
                                        <li>Respetado Señor X (Respetado Sr. X)</li>
                                        <li>Respetada Señora X (Respetada Sra. X)</li>
                                    </ul>
                                </li>
                                <li><strong>Introduction:</strong> formal letters should be written using the "usted" form throughout the entire letter.</li>
                                <li><strong>Body:</strong> include all required information from the instructions.</li>
                                <li><strong>Closing line:</strong> Some formal options:
                                    <ul>
                                        <li>Agradezco mucho su atención.</li>
                                        <li>Quedo en espera de su respuesta.</li>
                                        <li>Agradezco mucho su atención y quedo en espera de su respuesta.</li>
                                        <li>Gracias por su atención.</li>
                                    </ul>
                                </li>
                                <li><strong>Farewell line:</strong> Some formal options:
                                    <ul>
                                        <li>Atentamente,</li>
                                        <li>Cordialmente,</li>
                                        <li>Un cordial saludo,</li>
                                    </ul>
                                </li>
                            </ul>
                            <p>Note: When you don't know the name of the person you are writing to (i.e: when you write to a company) you address the company in plural: "Estimados Señores" (or "Estimados Sres.")</p>
                            <p>Note: All names included in the letter should be in Spanish!</p>
                        </div>
                    </div>
                </div>
                
                <div id="carta-informal" class="writing-format">
                    <h3 class="format-title">Carta Informal (Informal Letter)</h3>
                    <div class="format-content">
                        <p>Tips: In the AB Initio Course Activities and in the Written Assessments remember to include the same components as a formal letter, but with informal language.</p>
                        
                        <h4>Sample Informal Letter:</h4>
                        <div class="format-example">
                            <p>Calle de las Flores 32<br>
                            Piso 4, Apto 5<br>
                            08035 Barcelona, España</p>
                            <p>Barcelona, 8 de marzo de 2011</p>
                            <p>Querida Clara:</p>
                            <p>¿Cómo estás? Hace mucho tiempo no te escribo. Asi que voy a contarte un poco de mi vida.</p>
                            <p>Ultimamente he estado estudiando mucho para mis examenes finales. Afortunadamente, las vacaciones se aproximan...</p>
                            <p>¿Cuéntame de tu vida? ¿Cómo te ha ido en el colegio? ¿Qué piensas hacer en las vacaciones?</p>
                            <p>Escríbeme pronto.</p>
                            <p>Abrazos,</p>
                            <p>Julieta</p>
                        </div>
                        
                        <div class="format-tips">
                            <h4>Alternatives for Informal Letters:</h4>
                            <ul>
                                <li><strong>Address:</strong> you can write the full address or with abbreviations.</li>
                                <li><strong>Opening line:</strong> it goes according to the gender of the person. Some informal options:
                                    <ul>
                                        <li>Querido X</li>
                                        <li>Querida X</li>
                                        <li>Hola X</li>
                                        <li>Queridos Padres (for multiple people)</li>
                                    </ul>
                                </li>
                                <li><strong>Introduction:</strong> informal letters should be written using the "tú" form throughout the entire letter.</li>
                                <li><strong>Body:</strong> include all required information and questions to interact with the receiver. Remember it is a friendly letter.</li>
                                <li><strong>Closing line:</strong> Some informal options:
                                    <ul>
                                        <li>Escríbeme pronto. (Write soon)</li>
                                        <li>Escribiré de nuevo pronto. (I will write again soon)</li>
                                        <li>Hasta la próxima. (Until next time)</li>
                                    </ul>
                                </li>
                                <li><strong>Farewell line:</strong> Some informal options:
                                    <ul>
                                        <li>Un abrazo, (a hug)</li>
                                        <li>Un furte abrazo, (a big hug)</li>
                                        <li>Abrazos, (hugs)</li>
                                        <li>Un beso, (a kiss)</li>
                                        <li>Besos, (kisses)</li>
                                        <li>Saludos, (greetings)</li>
                                        <li>Con todo cariño, (with love)</li>
                                    </ul>
                                </li>
                            </ul>
                            <p>Note: All names included in the letter should be in Spanish!</p>
                        </div>
                    </div>
                </div>
                
                <div id="postal" class="writing-format">
                    <h3 class="format-title">Postal (Postcard)</h3>
                    <div class="format-content">
                        <p>Tips: In the AB Initio Course Activities and in the Written Assessments remember to always include the following items in a postcard:</p>
                        <ul>
                            <li>Address of the receiver in Spanish (preferably of a Spanish country)</li>
                            <li>Date (in Spanish format: 8 de marzo de 2011)</li>
                            <li>Opening line and name of the person in Spanish</li>
                            <li>Brief Introduction (this is a postcard not a letter)</li>
                            <li>Body</li>
                            <li>Closing line</li>
                            <li>"Farewell" line</li>
                            <li>Name or signature of person writing the letter (in Spanish)</li>
                        </ul>
                        <p>Note: If the instructions specify that any other information should be included in the letter, make sure you include it.</p>
                        
                        <h4>Sample Postcard:</h4>
                        <div class="format-example">
                            <p>Uruguay, 25 de Septiembre de 2011</p>
                            <p>Querida Clara:</p>
                            <p>¿Cómo estás?</p>
                            <p>[Body text would go here]</p>
                            <p>Abrazos,</p>
                            <p>Julieta</p>
                            <p>Clara Mesa Sanchez<br>
                            Calle de las Flores 32<br>
                            Piso 4, Apto 5<br>
                            08035 Barcelona, España</p>
                        </div>
                        
                        <div class="format-tips">
                            <h4>Alternatives for Postcards:</h4>
                            <ul>
                                <li><strong>Address:</strong> you can write the full address or with abbreviations.</li>
                                <li><strong>Opening line:</strong> it goes according to the gender of the person (Querida Laura:, Querido Lolo:, ¡Hola Juan!)</li>
                                <li><strong>Introduction:</strong> postcards should be written using the "tú" form throughout</li>
                                <li><strong>Body:</strong> include required information about where you are, what you're doing, etc.</li>
                                <li><strong>Closing line:</strong> Some options:
                                    <ul>
                                        <li>Nos vemos pronto. (See you soon)</li>
                                        <li>Deseando estuvieras aquí. (Wish you were here)</li>
                                        <li>Extrañandote. (missing you)</li>
                                    </ul>
                                </li>
                                <li><strong>Farewell line:</strong> Same informal options as letters and emails</li>
                            </ul>
                            <p>Note: All names included in the postcard should be in Spanish!</p>
                        </div>
                    </div>
                </div>
                
                <div id="poster" class="writing-format">
                    <h3 class="format-title">Poster (Cartel/Afiche)</h3>
                    <div class="format-content">
                        <p>A poster is utilized mainly to spread a message or information.</p>
                        <p>The basic parts of a poster are:</p>
                        <ul>
                            <li>Clear and attractive titles and subtitles</li>
                            <li>A short introductory paragraph</li>
                            <li>A clear and concise explanation of particular information, usually in bullet points</li>
                            <li>Catchy phrases using exclamation marks and/or question marks</li>
                            <li>End with a catchy phrase, slogan, or summary</li>
                            <li>Phrases with exclamation points (ex: ¡Anímate!)</li>
                            <li>Optional: "Para mas información visite la página web www.yyyyy.com"</li>
                        </ul>
                        
                        <h4>Sample Poster:</h4>
                        <div class="format-example">
                            <h4>¡Concurso de Reciclaje en la Escuela!</h4>
                            <p>¿Quieres ganar una pizza y bebidas para tu clase?</p>
                            <p>Es fácil, solo tienes que ganar el concurso de reciclaje que empezará la próxima semana.</p>
                            <p>Para ganar tienes que:</p>
                            <ul>
                                <li>Recoger todo el papel que puedas</li>
                                <li>Depositarlo en la caja que le corresponde a cada material</li>
                                <li>El concurso es desde el día lunes 30 de octubre hasta el viernes 6 de noviembre</li>
                            </ul>
                            <p>La clase que recoja mas papel al ganará una gran pizza de su elección y bebidas.</p>
                            <p>¡Anímate, la deliciosa pizza puede ser tuya!</p>
                            <p>Concurso organizado por el grado 12</p>
                        </div>
                        
                        <div class="format-tips">
                            <h4>Tips for Posters:</h4>
                            <ul>
                                <li>Ensure that your poster has an attractive title</li>
                                <li>Use a subtitle with exclamation or question marks</li>
                                <li>Write a short introductory paragraph</li>
                                <li>Include all of the information asked for</li>
                                <li>If you have to include a date, use the Spanish format</li>
                                <li>If you have to include a place and or a name use Spanish places (Buenos Aires) names (Adriana)</li>
                                <li>Finish the poster with a catchy/punchy line with exclamation/question marks again</li>
                                <li>Use the optional phrase if you want to</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div id="folleto" class="writing-format">
                    <h3 class="format-title">Folleto (Brochure)</h3>
                    <div class="format-content">
                        <p>Remember to always include the following items in a brochure:</p>
                        <ol>
                            <li>Clear and attractive titles and subtitles</li>
                            <li>A short introductory paragraph</li>
                            <li>Information in bullet points</li>
                            <li>Catchy phrases using exclamation marks and/or question marks</li>
                            <li>End with a catchy phrase, slogan, or summary</li>
                            <li>Optional: "Para más información visite la página web www.yyyyy.com"</li>
                        </ol>
                        <p>Note: If the instructions specify that any other information should be included, make sure you include it.</p>
                        
                        <h4>Sample Brochure:</h4>
                        <div class="format-example">
                            <h4>¡La Mejor Manera de Mantenerte en Forma!</h4>
                            <p>Sabias que la manera más fácil de mantenerte en forma esta a tu alcance y no te costara mucho dinero. Con nuestros consejos vivirás una vida sana y te verás fenomenal.</p>
                            <p>Estos son sólo algunos de los consejos que te ofreceremos en nuestro centro de salud:</p>
                            <ol>
                                <li>¿Sabías que tan sólo necesitas 30 minutos de actividad física diaria para mantenerte en forma? En nuestro centro te ayudaremos a elegir la mejor actividad para tu estilo de vida</li>
                                <li>¿Sabías que puedes comer hasta 6 comidas balanceadas al día? Así es, ¡no tienes que morirte de hambre!</li>
                            </ol>
                            <p>Estos y muchos otros consejos y beneficios encontraras en nuestro centro.</p>
                            <p>Ven y dale un cambio a tu vida. ¡Llénate de energía y rejuvenece!</p>
                            <p>Para más información llama al teléfono XXXX<br>
                            Escríbenos al xxxx@hotmail.com<br>
                            Visita nuestra página web www.vidasana.com</p>
                        </div>
                    </div>
                </div>
                
                <div id="entrevista" class="writing-format">
                    <h3 class="format-title">Entrevista (Interview)</h3>
                    <div class="format-content">
                        <h4>Sample Interview:</h4>
                        <div class="format-example">
                            <h4>Entrevista con Penélope Cruz</h4>
                            <p>Una entrevista de Juan Domínguez realizada el 30 de marzo 2010 en el Gran Cine-Teatro Real de Madrid</p>
                            <p>Esta entrevista fue realizada por Juan Domínguez en el Gran Cine-Teatro Real de Madrid con Penélope Cruz acerca de su nueva película "Volver" de Almodóvar en la que es protagonista.</p>
                            <p><strong>Juan</strong> - Buenos Días Penélope, es un placer y un gran honor tener la oportunidad de hablar contigo sobre tu nueva película "Volver" de Almodóvar. En primer lugar, ¿por qué decidiste colaborar con Almodóvar en esta película?</p>
                            <p><strong>Penélope</strong> - Hola, mucho gusto. Pues, en mi opinión Pedro Almodóvar es el mejor cineasta contemporáneo español y no quería perder esta gran oportunidad...</p>
                            <p><strong>J</strong> - [Additional questions]</p>
                            <p><strong>P</strong> - [Additional answers]</p>
                            <p><strong>Juan</strong> - Bueno, pues desafortunadamente se nos ha acabado el tiempo. Muchísimas gracias por contestar tan francamente a las preguntas que te he hecho hoy. Te deseo buena suerte con tus proyectos en el futuro y espero que otra oportunidad se presente para que podamos hablar más…</p>
                        </div>
                        
                        <div class="format-tips">
                            <h4>Interview Tips:</h4>
                            <ul>
                                <li>Include a header or title, the date of the interview, and where it was conducted</li>
                                <li>Include an introduction to your interview to outline who's being interviewed</li>
                                <li>Document the interview as a dialogue with names or initials before each speech</li>
                                <li>Include a conclusion statement to your interview thanking your interviewee for their time</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div id="nota" class="writing-format">
                    <h3 class="format-title">Nota (Note)</h3>
                    <div class="format-content">
                        <h4>Sample Note:</h4>
                        <div class="format-example">
                            <p>Hola mamá:</p>
                            <p>Son las 3 de la tarde del sábado 4 de enero. Salgo ya para el trabajo y no creo que pueda volver a casa a despedirme antes de mi viaje a Paraguay.</p>
                            <p>Necesito llevar algunas cosas pero no he alcanzado a comprarlas. Por favor compra lo siguiente y lo llevas a mi oficina esta tarde:</p>
                            <ol>
                                <li>Una camisa blanca talla M</li>
                                <li>Una corbata color rojo</li>
                                <li>Un cepillo de dientes y champú</li>
                                <li>El último libro de García Márquez que se llama "Vivir para contarla"</li>
                            </ol>
                            <p>Puedes comprar todo en el Corte Inglés.</p>
                            <p>¡Gracias! ¡Nos vemos esta tarde!</p>
                            <p>Te quiero,<br>
                            Juan</p>
                        </div>
                        
                        <div class="format-tips">
                            <h4>Note Tips:</h4>
                            <ul>
                                <li>Keep it short and to the point</li>
                                <li>Include a greeting appropriate to the recipient</li>
                                <li>State the reason for the note clearly</li>
                                <li>List specific items or information in bullet or numbered points</li>
                                <li>End with a friendly closing appropriate to your relationship with the recipient</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div id="presentacion" class="writing-format">
                    <h3 class="format-title">Presentación (Presentation)</h3>
                    <div class="format-content">
                        <h4>Sample Presentation:</h4>
                        <div class="format-example">
                            <h4>Las Similitudes de los Países Hispanohablantes</h4>
                            <p>Existen alrededor de 20 países hispanohablantes en el mundo. Todos tienen sus costumbres y carácteristicas únicas, pero también comparten muchas similitudes.</p>
                            <p>Algunas de estas similitudes son la religión, los deportes, la comida…..</p>
                            <p>Para empezar, voy a hablar de la religión…</p>
                            <p>En conclusion, los paises hispanohablantes son muy ricos y diversos en cultura y tradiciones….</p>
                            <p>Finalmente, quiero terminar con una pregunta para que analicen y piensen ….¿…..?</p>
                            <p>¡Gracias¡</p>
                        </div>
                        
                        <div class="format-tips">
                            <h4>Presentation Tips:</h4>
                            <ul>
                                <li>Include a clear title</li>
                                <li>Start with an introduction that presents the topic</li>
                                <li>Organize the body of the presentation in a logical way</li>
                                <li>Use transition phrases like "para empezar," "en primer lugar," "además," etc.</li>
                                <li>Conclude by summarizing key points</li>
                                <li>End with a thought-provoking question or a call to action</li>
                                <li>Thank the audience</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div id="anuncio" class="writing-format">
                    <h3 class="format-title">Anuncio (Advertisement)</h3>
                    <div class="format-content">
                        <h4>Sample Advertisement:</h4>
                        <div class="format-example">
                            <h4>Venta de Artículos para Universitarios</h4>
                            <p>Me voy a vivir a otro país y vendo los siguentes artículos útiles para universitarios:</p>
                            <ol>
                                <li>Una bicicleta: solo tiene un año. Es todo terreno, así que es excelente para la ciudad y el campo. De color azul y marca Gazela. Precio $50.</li>
                                <li>Un computador portátil: xxxxxxxxx</li>
                            </ol>
                            <p>¡No pierdas esta gran oportunidad! Todos los artículos están en excelente estado y muy baratos.</p>
                            <p>Para mas información llamar al 2013902 o escribir a maria@yahoo.com</p>
                        </div>
                        
                        <div class="format-tips">
                            <h4>Advertisement Tips:</h4>
                            <ul>
                                <li>Use a clear, eye-catching title</li>
                                <li>Provide a short introduction explaining what you're selling or offering</li>
                                <li>List items with descriptions and prices in a numbered list</li>
                                <li>Include a catchy closing line to encourage action</li>
                                <li>Always include contact information</li>
                                <li>Use exclamation marks for emphasis</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div id="blog" class="writing-format">
                    <h3 class="format-title">Blog</h3>
                    <div class="format-content">
                        <p>Remember to always include the following items in a blog entry:</p>
                        <ol>
                            <li>Title</li>
                            <li>Greeting (greet readers)</li>
                            <li>Introduction mentioning topic</li>
                            <li>Bullet point or numbered list of specific items</li>
                            <li>Conclusion</li>
                            <li>Closing line and goodbye</li>
                        </ol>
                        <p>Note: If the instructions specify that any other information should be included in the blog, make sure you include it.</p>
                        
                        <h4>Sample Blog:</h4>
                        <div class="format-example">
                            <h4>Lugares Interesantes en Mi Ciudad</h4>
                            <p>¡Hola queridos lectores! Yo se que los adolescentes no siempre tienen mucho dinero para diverse. Por eso hoy quiero hablarles de algunos lugares interesantes en mi ciudad a los que pueden ir sin mucho dinero.</p>
                            <ol>
                                <li>La casa del taco: excelente restaurante méxicano con platos que no son caros. Tienen música en vivo</li>
                                <li>XXX</li>
                                <li>XXX</li>
                                <li>XXX</li>
                            </ol>
                            <p>Seguro que van a encontrar estos lugares divertidos. Yo siempre los frecuento, así que podemos vernos allí.</p>
                            <p>Vuelvan y escriban sus comentarios acerca de estos lugares.</p>
                            <p>¡Hasta la próxima!<br>
                            Carlos</p>
                        </div>
                        
                        <div class="format-tips">
                            <h4>Blog Tips:</h4>
                            <ul>
                                <li>Choose an interesting, descriptive title</li>
                                <li>Open with a friendly greeting to your readers</li>
                                <li>Introduce your topic in a conversational tone</li>
                                <li>Use numbered lists or bullet points to organize information</li>
                                <li>Write a brief conclusion summarizing your main points</li>
                                <li>End with a friendly closing and your name</li>
                                <li>Encourage interaction by asking for comments</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Verb Conjugation Modal -->
    <div id="verb-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">×</span>
            <div id="conjugation-content"></div>
        </div>
    </div>

    <script>
        // Storage utility with fallback for sandboxed environments
        const storage = {
            save: function(key, data) {
                try {
                    localStorage.setItem(key, JSON.stringify(data));
                    return true;
                } catch (e) {
                    console.log("Storage not available, using memory fallback");
                    if (!this.memoryStorage) this.memoryStorage = {};
                    this.memoryStorage[key] = data;
                    return false;
                }
            },
            load: function(key) {
                try {
                    const data = localStorage.getItem(key);
                    return data ? JSON.parse(data) : null;
                } catch (e) {
                    console.log("Storage not available, using memory fallback");
                    return this.memoryStorage && this.memoryStorage[key] ? this.memoryStorage[key] : null;
                }
            }
        };
    
        // Tab Navigation
        const tabButtons = document.querySelectorAll('.tab-btn');
        const pages = document.querySelectorAll('.page');
        
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const pageId = button.getAttribute('data-page');
                
                // Hide all pages
                pages.forEach(page => {
                    page.classList.remove('active');
                });
                
                // Remove active class from all buttons
                tabButtons.forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // Show selected page and mark button as active
                document.getElementById(pageId).classList.add('active');
                button.classList.add('active');
            });
        });
        
        // Verb Conjugation Modal
        const modal = document.getElementById('verb-modal');
        const closeBtn = document.querySelector('.close-btn');
        const verbElements = document.querySelectorAll('.verb');
        const conjugationContent = document.getElementById('conjugation-content');
        
        verbElements.forEach(verb => {
            verb.addEventListener('click', () => {
                const verbName = verb.getAttribute('data-verb');
                const verbText = verb.textContent;
                
                // Determine verb type (-ar, -er, -ir)
                let verbType = '';
                if (verbText.endsWith('ar')) {
                    verbType = '-ar';
                } else if (verbText.endsWith('er')) {
                    verbType = '-er';
                } else if (verbText.endsWith('ir')) {
                    verbType = '-ir';
                }
                
                // Generate conjugation content
                let html = `<h3>Conjugation of "${verbText}"</h3>`;
                
                // Create tabs for different tenses
                html += `
                <div style="display: flex; margin-bottom: 15px; border-bottom: 1px solid #ddd;">
                    <button class="tab-btn active" style="margin-right: 5px; padding: 8px 15px; border: none; background: none; cursor: pointer; border-bottom: 2px solid transparent;" onclick="showTense(event, 'present')">Present</button>
                    <button class="tab-btn" style="margin-right: 5px; padding: 8px 15px; border: none; background: none; cursor: pointer; border-bottom: 2px solid transparent;" onclick="showTense(event, 'past')">Past</button>
                    <button class="tab-btn" style="margin-right: 5px; padding: 8px 15px; border: none; background: none; cursor: pointer; border-bottom: 2px solid transparent;" onclick="showTense(event, 'future')">Future</button>
                    <button class="tab-btn" style="margin-right: 5px; padding: 8px 15px; border: none; background: none; cursor: pointer; border-bottom: 2px solid transparent;" onclick="showTense(event, 'continuous')">Continuous</button>
                </div>
                `;
                
                // Present tense
                html += `<div id="present" class="tense-content" style="display:block;">`;
                html += `<h4>Present Simple (Presente)</h4>`;
                html += `<table>
                    <tr>
                        <th>Subject</th>
                        <th>Conjugation</th>
                    </tr>`;
                
                const stem = verbText.slice(0, -2);
                
                // Handle irregular verbs in present tense
                if (verbText === 'ser') {
                    html += `
                        <tr><td>yo</td><td>soy</td></tr>
                        <tr><td>tú</td><td>eres</td></tr>
                        <tr><td>él/ella/usted</td><td>es</td></tr>
                        <tr><td>nosotros/as</td><td>somos</td></tr>
                        <tr><td>vosotros/as</td><td>sois</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>son</td></tr>
                    `;
                } else if (verbText === 'estar') {
                    html += `
                        <tr><td>yo</td><td>estoy</td></tr>
                        <tr><td>tú</td><td>estás</td></tr>
                        <tr><td>él/ella/usted</td><td>está</td></tr>
                        <tr><td>nosotros/as</td><td>estamos</td></tr>
                        <tr><td>vosotros/as</td><td>estáis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>están</td></tr>
                    `;
                } else if (verbText === 'ir') {
                    html += `
                        <tr><td>yo</td><td>voy</td></tr>
                        <tr><td>tú</td><td>vas</td></tr>
                        <tr><td>él/ella/usted</td><td>va</td></tr>
                        <tr><td>nosotros/as</td><td>vamos</td></tr>
                        <tr><td>vosotros/as</td><td>vais</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>van</td></tr>
                    `;
                } else if (verbText === 'tener') {
                    html += `
                        <tr><td>yo</td><td>tengo</td></tr>
                        <tr><td>tú</td><td>tienes</td></tr>
                        <tr><td>él/ella/usted</td><td>tiene</td></tr>
                        <tr><td>nosotros/as</td><td>tenemos</td></tr>
                        <tr><td>vosotros/as</td><td>tenéis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>tienen</td></tr>
                    `;
                } else if (verbText === 'hacer') {
                    html += `
                        <tr><td>yo</td><td>hago</td></tr>
                        <tr><td>tú</td><td>haces</td></tr>
                        <tr><td>él/ella/usted</td><td>hace</td></tr>
                        <tr><td>nosotros/as</td><td>hacemos</td></tr>
                        <tr><td>vosotros/as</td><td>hacéis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>hacen</td></tr>
                    `;
                } else if (verbText === 'venir') {
                    html += `
                        <tr><td>yo</td><td>vengo</td></tr>
                        <tr><td>tú</td><td>vienes</td></tr>
                        <tr><td>él/ella/usted</td><td>viene</td></tr>
                        <tr><td>nosotros/as</td><td>venimos</td></tr>
                        <tr><td>vosotros/as</td><td>venís</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>vienen</td></tr>
                    `;
                } else if (verbText === 'decir') {
                    html += `
                        <tr><td>yo</td><td>digo</td></tr>
                        <tr><td>tú</td><td>dices</td></tr>
                        <tr><td>él/ella/usted</td><td>dice</td></tr>
                        <tr><td>nosotros/as</td><td>decimos</td></tr>
                        <tr><td>vosotros/as</td><td>decís</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>dicen</td></tr>
                    `;
                } else if (verbText === 'poder') {
                    html += `
                        <tr><td>yo</td><td>puedo</td></tr>
                        <tr><td>tú</td><td>puedes</td></tr>
                        <tr><td>él/ella/usted</td><td>puede</td></tr>
                        <tr><td>nosotros/as</td><td>podemos</td></tr>
                        <tr><td>vosotros/as</td><td>podéis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>pueden</td></tr>
                    `;
                } else if (verbText === 'querer') {
                    html += `
                        <tr><td>yo</td><td>quiero</td></tr>
                        <tr><td>tú</td><td>quieres</td></tr>
                        <tr><td>él/ella/usted</td><td>quiere</td></tr>
                        <tr><td>nosotros/as</td><td>queremos</td></tr>
                        <tr><td>vosotros/as</td><td>queréis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>quieren</td></tr>
                    `;
                } else if (verbText === 'saber') {
                    html += `
                        <tr><td>yo</td><td>sé</td></tr>
                        <tr><td>tú</td><td>sabes</td></tr>
                        <tr><td>él/ella/usted</td><td>sabe</td></tr>
                        <tr><td>nosotros/as</td><td>sabemos</td></tr>
                        <tr><td>vosotros/as</td><td>sabéis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>saben</td></tr>
                    `;
                } else if (verbText === 'salir') {
                    html += `
                        <tr><td>yo</td><td>salgo</td></tr>
                        <tr><td>tú</td><td>sales</td></tr>
                        <tr><td>él/ella/usted</td><td>sale</td></tr>
                        <tr><td>nosotros/as</td><td>salimos</td></tr>
                        <tr><td>vosotros/as</td><td>salís</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>salen</td></tr>
                    `;
                } else if (verbText === 'oír') {
                    html += `
                        <tr><td>yo</td><td>oigo</td></tr>
                        <tr><td>tú</td><td>oyes</td></tr>
                        <tr><td>él/ella/usted</td><td>oye</td></tr>
                        <tr><td>nosotros/as</td><td>oímos</td></tr>
                        <tr><td>vosotros/as</td><td>oís</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>oyen</td></tr>
                    `;
                } else if (verbText === 'poner') {
                    html += `
                        <tr><td>yo</td><td>pongo</td></tr>
                        <tr><td>tú</td><td>pones</td></tr>
                        <tr><td>él/ella/usted</td><td>pone</td></tr>
                        <tr><td>nosotros/as</td><td>ponemos</td></tr>
                        <tr><td>vosotros/as</td><td>ponéis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>ponen</td></tr>
                    `;
                } else if (verbText === 'ver') {
                    html += `
                        <tr><td>yo</td><td>veo</td></tr>
                        <tr><td>tú</td><td>ves</td></tr>
                        <tr><td>él/ella/usted</td><td>ve</td></tr>
                        <tr><td>nosotros/as</td><td>vemos</td></tr>
                        <tr><td>vosotros/as</td><td>veis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>ven</td></tr>
                    `;
                } else if (verbText === 'dar') {
                    html += `
                        <tr><td>yo</td><td>doy</td></tr>
                        <tr><td>tú</td><td>das</td></tr>
                        <tr><td>él/ella/usted</td><td>da</td></tr>
                        <tr><td>nosotros/as</td><td>damos</td></tr>
                        <tr><td>vosotros/as</td><td>dais</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>dan</td></tr>
                    `;
                } else if (verbText === 'traer') {
                    html += `
                        <tr><td>yo</td><td>traigo</td></tr>
                        <tr><td>tú</td><td>traes</td></tr>
                        <tr><td>él/ella/usted</td><td>trae</td></tr>
                        <tr><td>nosotros/as</td><td>traemos</td></tr>
                        <tr><td>vosotros/as</td><td>traéis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>traen</td></tr>
                    `;
                } else if (verbText === 'jugar') {
                    html += `
                        <tr><td>yo</td><td>juego</td></tr>
                        <tr><td>tú</td><td>juegas</td></tr>
                        <tr><td>él/ella/usted</td><td>juega</td></tr>
                        <tr><td>nosotros/as</td><td>jugamos</td></tr>
                        <tr><td>vosotros/as</td><td>jugáis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>juegan</td></tr>
                    `;
                } else if (verbText === 'dormir') {
                    html += `
                        <tr><td>yo</td><td>duermo</td></tr>
                        <tr><td>tú</td><td>duermes</td></tr>
                        <tr><td>él/ella/usted</td><td>duerme</td></tr>
                        <tr><td>nosotros/as</td><td>dormimos</td></tr>
                        <tr><td>vosotros/as</td><td>dormís</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>duermen</td></tr>
                    `;
                } else if (verbType === '-ar') {
                    html += `
                        <tr><td>yo</td><td>${stem}o</td></tr>
                        <tr><td>tú</td><td>${stem}as</td></tr>
                        <tr><td>él/ella/usted</td><td>${stem}a</td></tr>
                        <tr><td>nosotros/as</td><td>${stem}amos</td></tr>
                        <tr><td>vosotros/as</td><td>${stem}áis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>${stem}an</td></tr>
                    `;
                } else if (verbType === '-er') {
                    html += `
                        <tr><td>yo</td><td>${stem}o</td></tr>
                        <tr><td>tú</td><td>${stem}es</td></tr>
                        <tr><td>él/ella/usted</td><td>${stem}e</td></tr>
                        <tr><td>nosotros/as</td><td>${stem}emos</td></tr>
                        <tr><td>vosotros/as</td><td>${stem}éis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>${stem}en</td></tr>
                    `;
                } else if (verbType === '-ir') {
                    html += `
                        <tr><td>yo</td><td>${stem}o</td></tr>
                        <tr><td>tú</td><td>${stem}es</td></tr>
                        <tr><td>él/ella/usted</td><td>${stem}e</td></tr>
                        <tr><td>nosotros/as</td><td>${stem}imos</td></tr>
                        <tr><td>vosotros/as</td><td>${stem}ís</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>${stem}en</td></tr>
                    `;
                }
                
                html += `</table>`;
                html += `</div>`;
                
                // Past tense
                html += `<div id="past" class="tense-content" style="display:none;">`;
                html += `<h4>Past Simple (Pretérito)</h4>`;
                html += `<table>
                    <tr>
                        <th>Subject</th>
                        <th>Conjugation</th>
                    </tr>`;
                
                // Handle irregular verbs in past tense
                if (verbText === 'ser' || verbText === 'ir') {
                    html += `
                        <tr><td>yo</td><td>fui</td></tr>
                        <tr><td>tú</td><td>fuiste</td></tr>
                        <tr><td>él/ella/usted</td><td>fue</td></tr>
                        <tr><td>nosotros/as</td><td>fuimos</td></tr>
                        <tr><td>vosotros/as</td><td>fuisteis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>fueron</td></tr>
                    `;
                } else if (verbText === 'estar') {
                    html += `
                        <tr><td>yo</td><td>estuve</td></tr>
                        <tr><td>tú</td><td>estuviste</td></tr>
                        <tr><td>él/ella/usted</td><td>estuvo</td></tr>
                        <tr><td>nosotros/as</td><td>estuvimos</td></tr>
                        <tr><td>vosotros/as</td><td>estuvisteis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>estuvieron</td></tr>
                    `;
                } else if (verbText === 'tener') {
                    html += `
                        <tr><td>yo</td><td>tuve</td></tr>
                        <tr><td>tú</td><td>tuviste</td></tr>
                        <tr><td>él/ella/usted</td><td>tuvo</td></tr>
                        <tr><td>nosotros/as</td><td>tuvimos</td></tr>
                        <tr><td>vosotros/as</td><td>tuvisteis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>tuvieron</td></tr>
                    `;
                } else if (verbText === 'hacer') {
                    html += `
                        <tr><td>yo</td><td>hice</td></tr>
                        <tr><td>tú</td><td>hiciste</td></tr>
                        <tr><td>él/ella/usted</td><td>hizo</td></tr>
                        <tr><td>nosotros/as</td><td>hicimos</td></tr>
                        <tr><td>vosotros/as</td><td>hicisteis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>hicieron</td></tr>
                    `;
                } else if (verbText === 'dar') {
                    html += `
                        <tr><td>yo</td><td>di</td></tr>
                        <tr><td>tú</td><td>diste</td></tr>
                        <tr><td>él/ella/usted</td><td>dio</td></tr>
                        <tr><td>nosotros/as</td><td>dimos</td></tr>
                        <tr><td>vosotros/as</td><td>disteis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>dieron</td></tr>
                    `;
                } else if (verbType === '-ar') {
                    html += `
                        <tr><td>yo</td><td>${stem}é</td></tr>
                        <tr><td>tú</td><td>${stem}aste</td></tr>
                        <tr><td>él/ella/usted</td><td>${stem}ó</td></tr>
                        <tr><td>nosotros/as</td><td>${stem}amos</td></tr>
                        <tr><td>vosotros/as</td><td>${stem}asteis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>${stem}aron</td></tr>
                    `;
                } else if (verbType === '-er' || verbType === '-ir') {
                    html += `
                        <tr><td>yo</td><td>${stem}í</td></tr>
                        <tr><td>tú</td><td>${stem}iste</td></tr>
                        <tr><td>él/ella/usted</td><td>${stem}ió</td></tr>
                        <tr><td>nosotros/as</td><td>${stem}imos</td></tr>
                        <tr><td>vosotros/as</td><td>${stem}isteis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>${stem}ieron</td></tr>
                    `;
                }
                
                html += `</table>`;
                
                // Past continuous (imperfect)
                html += `<h4>Past Continuous (Imperfecto)</h4>`;
                html += `<table>
                    <tr>
                        <th>Subject</th>
                        <th>Conjugation</th>
                    </tr>`;
                
                // Handle irregular verbs in imperfect
                if (verbText === 'ser') {
                    html += `
                        <tr><td>yo</td><td>era</td></tr>
                        <tr><td>tú</td><td>eras</td></tr>
                        <tr><td>él/ella/usted</td><td>era</td></tr>
                        <tr><td>nosotros/as</td><td>éramos</td></tr>
                        <tr><td>vosotros/as</td><td>erais</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>eran</td></tr>
                    `;
                } else if (verbText === 'ir') {
                    html += `
                        <tr><td>yo</td><td>iba</td></tr>
                        <tr><td>tú</td><td>ibas</td></tr>
                        <tr><td>él/ella/usted</td><td>iba</td></tr>
                        <tr><td>nosotros/as</td><td>íbamos</td></tr>
                        <tr><td>vosotros/as</td><td>ibais</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>iban</td></tr>
                    `;
                } else if (verbText === 'ver') {
                    html += `
                        <tr><td>yo</td><td>veía</td></tr>
                        <tr><td>tú</td><td>veías</td></tr>
                        <tr><td>él/ella/usted</td><td>veía</td></tr>
                        <tr><td>nosotros/as</td><td>veíamos</td></tr>
                        <tr><td>vosotros/as</td><td>veíais</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>veían</td></tr>
                    `;
                } else if (verbType === '-ar') {
                    html += `
                        <tr><td>yo</td><td>${stem}aba</td></tr>
                        <tr><td>tú</td><td>${stem}abas</td></tr>
                        <tr><td>él/ella/usted</td><td>${stem}aba</td></tr>
                        <tr><td>nosotros/as</td><td>${stem}ábamos</td></tr>
                        <tr><td>vosotros/as</td><td>${stem}abais</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>${stem}aban</td></tr>
                    `;
                } else if (verbType === '-er' || verbType === '-ir') {
                    html += `
                        <tr><td>yo</td><td>${stem}ía</td></tr>
                        <tr><td>tú</td><td>${stem}ías</td></tr>
                        <tr><td>él/ella/usted</td><td>${stem}ía</td></tr>
                        <tr><td>nosotros/as</td><td>${stem}íamos</td></tr>
                        <tr><td>vosotros/as</td><td>${stem}íais</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>${stem}ían</td></tr>
                    `;
                }
                
                html += `</table>`;
                html += `</div>`;
                
                // Future tense
                html += `<div id="future" class="tense-content" style="display:none;">`;
                html += `<h4>Future Simple (Futuro)</h4>`;
                html += `<table>
                    <tr>
                        <th>Subject</th>
                        <th>Conjugation</th>
                    </tr>`;
                
                // Handle irregular verbs in future
                if (verbText === 'tener') {
                    html += `
                        <tr><td>yo</td><td>tendré</td></tr>
                        <tr><td>tú</td><td>tendrás</td></tr>
                        <tr><td>él/ella/usted</td><td>tendrá</td></tr>
                        <tr><td>nosotros/as</td><td>tendremos</td></tr>
                        <tr><td>vosotros/as</td><td>tendréis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>tendrán</td></tr>
                    `;
                } else if (verbText === 'poder') {
                    html += `
                        <tr><td>yo</td><td>podré</td></tr>
                        <tr><td>tú</td><td>podrás</td></tr>
                        <tr><td>él/ella/usted</td><td>podrá</td></tr>
                        <tr><td>nosotros/as</td><td>podremos</td></tr>
                        <tr><td>vosotros/as</td><td>podréis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>podrán</td></tr>
                    `;
                } else if (verbText === 'hacer') {
                    html += `
                        <tr><td>yo</td><td>haré</td></tr>
                        <tr><td>tú</td><td>harás</td></tr>
                        <tr><td>él/ella/usted</td><td>hará</td></tr>
                        <tr><td>nosotros/as</td><td>haremos</td></tr>
                        <tr><td>vosotros/as</td><td>haréis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>harán</td></tr>
                    `;
                } else if (verbText === 'decir') {
                    html += `
                        <tr><td>yo</td><td>diré</td></tr>
                        <tr><td>tú</td><td>dirás</td></tr>
                        <tr><td>él/ella/usted</td><td>dirá</td></tr>
                        <tr><td>nosotros/as</td><td>diremos</td></tr>
                        <tr><td>vosotros/as</td><td>diréis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>dirán</td></tr>
                    `;
                } else if (verbText === 'venir') {
                    html += `
                        <tr><td>yo</td><td>vendré</td></tr>
                        <tr><td>tú</td><td>vendrás</td></tr>
                        <tr><td>él/ella/usted</td><td>vendrá</td></tr>
                        <tr><td>nosotros/as</td><td>vendremos</td></tr>
                        <tr><td>vosotros/as</td><td>vendréis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>vendrán</td></tr>
                    `;
                } else if (verbText === 'salir') {
                    html += `
                        <tr><td>yo</td><td>saldré</td></tr>
                        <tr><td>tú</td><td>saldrás</td></tr>
                        <tr><td>él/ella/usted</td><td>saldrá</td></tr>
                        <tr><td>nosotros/as</td><td>saldremos</td></tr>
                        <tr><td>vosotros/as</td><td>saldréis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>saldrán</td></tr>
                    `;
                } else {
                    html += `
                        <tr><td>yo</td><td>${verbText}é</td></tr>
                        <tr><td>tú</td><td>${verbText}ás</td></tr>
                        <tr><td>él/ella/usted</td><td>${verbText}á</td></tr>
                        <tr><td>nosotros/as</td><td>${verbText}emos</td></tr>
                        <tr><td>vosotros/as</td><td>${verbText}éis</td></tr>
                        <tr><td>ellos/ellas/ustedes</td><td>${verbText}án</td></tr>
                    `;
                }
                
                html += `</table>`;
                html += `</div>`;
                
                // Present continuous
                html += `<div id="continuous" class="tense-content" style="display:none;">`;
                html += `<h4>Present Continuous (Presente Continuo)</h4>`;
                html += `<p>Format: conjugated form of "estar" + gerund</p>`;
                
                // Create the gerund
                let gerund = '';
                if (verbType === '-ar') {
                    gerund = stem + 'ando';
                } else if (verbType === '-er' || verbType === '-ir') {
                    gerund = stem + 'iendo';
                }
                
                html += `<table>
                    <tr>
                        <th>Subject</th>
                        <th>Conjugation</th>
                    </tr>
                    <tr><td>yo</td><td>estoy ${gerund}</td></tr>
                    <tr><td>tú</td><td>estás ${gerund}</td></tr>
                    <tr><td>él/ella/usted</td><td>está ${gerund}</td></tr>
                    <tr><td>nosotros/as</td><td>estamos ${gerund}</td></tr>
                    <tr><td>vosotros/as</td><td>estáis ${gerund}</td></tr>
                    <tr><td>ellos/ellas/ustedes</td><td>están ${gerund}</td></tr>
                </table>`;
                
                html += `<h4>Past Continuous with Estar (Pretérito Continuo)</h4>`;
                html += `<p>Format: past conjugation of "estar" + gerund</p>`;
                
                html += `<table>
                    <tr>
                        <th>Subject</th>
                        <th>Conjugation</th>
                    </tr>
                    <tr><td>yo</td><td>estuve ${gerund}</td></tr>
                    <tr><td>tú</td><td>estuviste ${gerund}</td></tr>
                    <tr><td>él/ella/usted</td><td>estuvo ${gerund}</td></tr>
                    <tr><td>nosotros/as</td><td>estuvimos ${gerund}</td></tr>
                    <tr><td>vosotros/as</td><td>estuvisteis ${gerund}</td></tr>
                    <tr><td>ellos/ellas/ustedes</td><td>estuvieron ${gerund}</td></tr>
                </table>`;
                
                html += `<h4>Future Continuous (Futuro Continuo)</h4>`;
                html += `<p>Format: future conjugation of "estar" + gerund</p>`;
                
                html += `<table>
                    <tr>
                        <th>Subject</th>
                        <th>Conjugation</th>
                    </tr>
                    <tr><td>yo</td><td>estaré ${gerund}</td></tr>
                    <tr><td>tú</td><td>estarás ${gerund}</td></tr>
                    <tr><td>él/ella/usted</td><td>estará ${gerund}</td></tr>
                    <tr><td>nosotros/as</td><td>estaremos ${gerund}</td></tr>
                    <tr><td>vosotros/as</td><td>estaréis ${gerund}</td></tr>
                    <tr><td>ellos/ellas/ustedes</td><td>estarán ${gerund}</td></tr>
                </table>`;
                
                html += `</div>`;
                
                conjugationContent.innerHTML = html;
                modal.style.display = 'block';
                
                // Add tense tab functionality
                window.showTense = function(event, tenseId) {
                    // Hide all tense contents
                    const tenseContents = document.querySelectorAll('.tense-content');
                    tenseContents.forEach(content => {
                        content.style.display = 'none';
                    });
                    
                    // Show the selected tense content
                    document.getElementById(tenseId).style.display = 'block';
                    
                    // Update active tab
                    const tabBtns = document.querySelectorAll('.modal-content .tab-btn');
                    tabBtns.forEach(btn => {
                        btn.style.borderBottom = '2px solid transparent';
                        btn.classList.remove('active');
                    });
                    
                    event.currentTarget.style.borderBottom = '2px solid #4a6741';
                    event.currentTarget.classList.add('active');
                };
            });
        });
        
        closeBtn.addEventListener('click', () => {
            modal.style.display = 'none';
        });
        
        window.addEventListener('click', (event) => {
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        });
        
        // Question Generator
        const generateBtn = document.getElementById('generate-question');
        const questionResult = document.getElementById('question-result');
        const questionType = document.getElementById('question-type');
        const topicSelect = document.getElementById('topic-select');
        const writingFormat = document.getElementById('writing-format');
        const writingFormatGroup = document.getElementById('writing-format-group');
        const answerSection = document.getElementById('answer-section');
        const userAnswer = document.getElementById('user-answer');
        const submitAnswer = document.getElementById('submit-answer');
        const feedbackSection = document.getElementById('feedback-section');
        const scoreDisplay = document.getElementById('score-display');
        const correctionDisplay = document.getElementById('correction-display');
        
        // Current question and answer
        let currentQuestion = null;
        let correctAnswer = null;
        
        // Hide/show writing format dropdown based on question type
        questionType.addEventListener('change', () => {
            if (questionType.value === 'writing') {
                writingFormatGroup.style.display = 'block';
            } else {
                writingFormatGroup.style.display = 'none';
            }
        });
        
        const writingPrompts = {
            all: [
                "Escribe un correo electrónico a tu amigo/a describiendo tu barrio y tu casa.",
                "Escribe un blog sobre tus vacaciones recientes.",
                "Escribe una carta a tu profesor/a sobre tus pasatiempos favoritos.",
                "Escribe un artículo sobre tu rutina diaria para una revista escolar.",
                "Escribe un diálogo entre tú y un/a compañero/a de clase sobre vuestros planes para el fin de semana."
            ],
            barrio: [
                "Describe tu barrio ideal. ¿Qué lugares hay? ¿Por qué te gusta?",
                "Escribe un correo electrónico a un amigo describiendo el barrio donde vives.",
                "Has cambiado de barrio recientemente. Escribe un texto comparando tu barrio anterior con el nuevo."
            ],
            travel: [
                "Escribe una postal desde un lugar que estás visitando.",
                "Escribe un blog sobre tus últimas vacaciones.",
                "Planifica un viaje con un amigo por escrito, mencionando lugares que quieres visitar."
            ],
            routine: [
                "Describe tu rutina diaria durante la semana.",
                "Compara tu rutina de lunes a viernes con tu rutina del fin de semana.",
                "Escribe un texto sobre cómo ha cambiado tu rutina diaria desde el año pasado."
            ],
            home: [
                "Describe tu casa o apartamento ideal.",
                "Escribe un anuncio para alquilar o vender tu casa.",
                "Compara tu casa actual con la casa de tu infancia."
            ],
            hobbies: [
                "Escribe sobre tu pasatiempo favorito y por qué lo disfrutas.",
                "Invita a un amigo por escrito a practicar un pasatiempo contigo.",
                "Escribe un artículo sobre los beneficios de tener pasatiempos."
            ],
            school: [
                "Describe tu escuela y tus clases favoritas.",
                "Escribe un correo electrónico a un nuevo estudiante sobre la vida escolar.",
                "Compara tu escuela actual con tu escuela anterior."
            ],
            food: [
                "Describe tu comida favorita y cómo se prepara.",
                "Escribe una receta tradicional de tu país.",
                "Compara la comida de tu país con la comida española."
            ]
        };
        
        const readingPrompts = {
            all: [
                {
                    text: "Lee el siguiente texto sobre las tradiciones españolas y contesta las preguntas.\n\nLas Fiestas de España\n\nEspaña es famosa por sus numerosas y variadas fiestas. Cada región, ciudad y pueblo tiene sus propias celebraciones tradicionales. Entre las más conocidas están la Tomatina de Buñol, donde la gente se lanza tomates; los San Fermines en Pamplona, con el famoso encierro de toros; y las Fallas de Valencia, con sus enormes figuras de cartón que se queman al final de la fiesta.\n\nEstas celebraciones atraen a turistas de todo el mundo y son una parte importante de la cultura española. Los españoles celebran con música, baile, comida especial y, en muchos casos, fuegos artificiales.",
                    questions: ["¿Qué son las Fallas de Valencia?", "¿Qué sucede en la Tomatina?", "¿Por qué son importantes estas fiestas?"],
                    answers: ["Las Fallas son una fiesta de Valencia con enormes figuras de cartón que se queman al final.", "En la Tomatina la gente se lanza tomates.", "Son importantes porque son parte de la cultura española y atraen turistas."]
                },
                {
                    text: "Lee el artículo sobre el turismo en América Latina y completa las actividades.\n\nTurismo en América Latina\n\nAmérica Latina es un destino turístico cada vez más popular. Países como México, Perú, Argentina y Brasil reciben millones de visitantes cada año. Los turistas llegan atraídos por las hermosas playas, los sitios arqueológicos, las reservas naturales y la rica gastronomía de la región.\n\nEn México, los turistas visitan principalmente las playas de Cancún y la Riviera Maya, así como las zonas arqueológicas mayas. En Perú, Machu Picchu es el destino más famoso. Argentina es conocida por Buenos Aires, la Patagonia y las Cataratas del Iguazú, mientras que Brasil atrae con Río de Janeiro y la Amazonía.",
                    questions: ["¿Qué países latinoamericanos reciben más turistas?", "¿Qué atrae a los turistas a América Latina?", "¿Cuál es el destino más famoso de Perú?"],
                    answers: ["México, Perú, Argentina y Brasil.", "Las playas, los sitios arqueológicos, las reservas naturales y la gastronomía.", "Machu Picchu."]
                }
            ]
        };
        
        const fillBlankTexts = {
            all: [
                {
                    text: "Mi rutina diaria es muy ocupada. Me ________ (levantar) a las 7 de la mañana y ________ (desayunar) a las 7:30. Después, ________ (ir) a la escuela en autobús. Las clases ________ (empezar) a las 8:30 y ________ (terminar) a las 3 de la tarde.",
                    answers: ["levanto", "desayuno", "voy", "empiezan", "terminan"]
                },
                {
                    text: "El fin de semana pasado ________ (ir) al cine con mis amigos. ________ (ver) una película de ciencia ficción que ________ (estar) muy buena. Después, ________ (comer) en un restaurante y ________ (hablar) sobre la película.",
                    answers: ["fui", "vimos", "estaba/estuvo", "comimos", "hablamos"]
                }
            ]
        };
        
        const trueFalseQuestions = {
            all: [
                {
                    text: "Lee el siguiente texto y decide si las afirmaciones son verdaderas (V) o falsas (F):\n\nMaría es una estudiante española que vive en Madrid. Tiene 18 años y estudia medicina en la Universidad Complutense. Le gusta mucho leer y pasar tiempo con sus amigos. Los fines de semana trabaja en una cafetería para ganar dinero extra.",
                    questions: [
                        "María vive en Barcelona.",
                        "María estudia medicina.",
                        "María tiene 20 años.",
                        "A María le gusta leer.",
                        "María trabaja todos los días."
                    ],
                    answers: ["F", "V", "F", "V", "F"]
                },
                {
                    text: "Lee el siguiente texto y decide si las afirmaciones son verdaderas (V) o falsas (F):\n\nCarlos es un chef peruano que trabaja en un restaurante en Lima. Su especialidad es la comida tradicional peruana como el ceviche y el lomo saltado. Estudió cocina en Francia por tres años, pero decidió volver a su país para promover la gastronomía peruana. Su restaurante es muy popular entre turistas y locales.",
                    questions: [
                        "Carlos es de España.",
                        "Carlos trabaja en Lima.",
                        "Carlos estudió cocina en Perú.",
                        "Carlos cocina platos tradicionales peruanos.",
                        "El restaurante de Carlos solo es popular entre turistas."
                    ],
                    answers: ["F", "V", "F", "V", "F"]
                }
            ]
        };
        
        const multipleChoiceQuestions = {
            all: [
                {
                    text: "Lee el siguiente texto y elige la respuesta correcta:\n\nJuan es profesor de español en un instituto. Le encanta enseñar y ayudar a sus estudiantes. Vive cerca del instituto y va al trabajo a pie todos los días. Por las tardes, prepara sus clases y corrige exámenes.",
                    questions: [
                        "¿Qué profesión tiene Juan?",
                        "¿Dónde vive Juan?",
                        "¿Cómo va Juan al trabajo?",
                        "¿Qué hace Juan por las tardes?"
                    ],
                    options: [
                        ["Médico", "Profesor", "Estudiante", "Ingeniero"],
                        ["Lejos del instituto", "Cerca del instituto", "En el instituto", "En otra ciudad"],
                        ["En coche", "En autobús", "A pie", "En bicicleta"],
                        ["Practica deportes", "Ve la televisión", "Prepara clases y corrige exámenes", "Visita a sus amigos"]
                    ],
                    answers: [1, 1, 2, 2]
                },
                {
                    text: "Lee el siguiente texto y elige la respuesta correcta:\n\nLaura es una artista mexicana que vive en Ciudad de México. Pinta cuadros y vende sus obras en una galería local. También da clases de arte a niños los sábados. En su tiempo libre, le gusta visitar museos y exposiciones para inspirarse.",
                    questions: [
                        "¿De dónde es Laura?",
                        "¿Qué tipo de arte hace Laura?",
                        "¿Cuándo da clases de arte?",
                        "¿Qué hace Laura en su tiempo libre?"
                    ],
                    options: [
                        ["España", "México", "Argentina", "Colombia"],
                        ["Pintura", "Escultura", "Fotografía", "Música"],
                        ["Los lunes", "Los miércoles", "Los viernes", "Los sábados"],
                        ["Cocinar", "Leer libros", "Visitar museos", "Practicar deportes"]
                    ],
                    answers: [1, 0, 3, 2]
                }
            ]
        };
        
        const writingFormats = {
            article: "Formato: Artículo",
            diary: "Formato: Diario",
            "email-formal": "Formato: Correo Electrónico Formal",
            "email-informal": "Formato: Correo Electrónico Informal",
            "letter-formal": "Formato: Carta Formal",
            "letter-informal": "Formato: Carta Informal",
            postcard: "Formato: Postal",
            poster: "Formato: Poster/Cartel",
            brochure: "Formato: Folleto",
            interview: "Formato: Entrevista",
            note: "Formato: Nota",
            presentation: "Formato: Presentación",
            ad: "Formato: Anuncio",
            blog: "Formato: Blog"
        };
        
        generateBtn.addEventListener('click', () => {
            const type = questionType.value;
            const topic = topicSelect.value;
            
            // Reset answer and feedback sections
            answerSection.style.display = 'none';
            feedbackSection.style.display = 'none';
            userAnswer.value = '';
            
            if (type === 'writing') {
                const format = writingFormat.value;
                const formatText = format === 'all' ? '' : `\n\n${writingFormats[format]}`;
                
                let prompts = writingPrompts[topic] || writingPrompts.all;
                const randomPrompt = prompts[Math.floor(Math.random() * prompts.length)];
                
                currentQuestion = {
                    type: 'writing',
                    prompt: randomPrompt + formatText,
                    format: format
                };
                
                questionResult.innerHTML = `
                    <h3>Writing Task</h3>
                    <p><strong>Topic:</strong> ${topic === 'all' ? 'Mixed Topics' : topic}</p>
                    <p><strong>Prompt:</strong></p>
                    <div style="background-color: #f8f9fa; padding: 15px; border-left: 4px solid #4a6741; margin-top: 10px;">
                        ${randomPrompt}${formatText}
                    </div>
                `;
                
                // Show answer section
                answerSection.style.display = 'block';
                
            } else if (type === 'reading') {
                const questions = readingPrompts[topic] || readingPrompts.all;
                const randomQuestion = questions[Math.floor(Math.random() * questions.length)];
                
                correctAnswer = randomQuestion.answers;
                currentQuestion = {
                    type: 'reading',
                    text: randomQuestion.text,
                    questions: randomQuestion.questions,
                    answers: randomQuestion.answers
                };
                
                let questionsHTML = '<ol>';
                randomQuestion.questions.forEach(question => {
                    questionsHTML += `<li>${question}</li>`;
                });
                questionsHTML += '</ol>';
                
                questionResult.innerHTML = `
                    <h3>Reading Comprehension</h3>
                    <p><strong>Topic:</strong> ${topic === 'all' ? 'Mixed Topics' : topic}</p>
                    <div style="background-color: #f8f9fa; padding: 15px; border-left: 4px solid #4a6741; margin-top: 10px;">
                        ${randomQuestion.text}
                    </div>
                    <p><strong>Questions:</strong></p>
                    ${questionsHTML}
                `;
                
                // Show answer section
                answerSection.style.display = 'block';
                
            } else if (type === 'fill-blank') {
                const questions = fillBlankTexts[topic] || fillBlankTexts.all;
                const randomQuestion = questions[Math.floor(Math.random() * questions.length)];
                
                correctAnswer = randomQuestion.answers;
                currentQuestion = {
                    type: 'fill-blank',
                    text: randomQuestion.text,
                    answers: randomQuestion.answers
                };
                
                questionResult.innerHTML = `
                    <h3>Fill in the Blanks</h3>
                    <p><strong>Topic:</strong> ${topic === 'all' ? 'Mixed Topics' : topic}</p>
                    <p><strong>Instructions:</strong> Complete the text with the correct form of the verbs in parentheses.</p>
                    <div style="background-color: #f8f9fa; padding: 15px; border-left: 4px solid #4a6741; margin-top: 10px;">
                        ${randomQuestion.text}
                    </div>
                `;
                
                // Show answer section
                answerSection.style.display = 'block';
                
            } else if (type === 'true-false') {
                const questions = trueFalseQuestions[topic] || trueFalseQuestions.all;
                const randomQuestion = questions[Math.floor(Math.random() * questions.length)];
                
                correctAnswer = randomQuestion.answers;
                currentQuestion = {
                    type: 'true-false',
                    text: randomQuestion.text,
                    questions: randomQuestion.questions,
                    answers: randomQuestion.answers
                };
                
                let questionsHTML = '';
                randomQuestion.questions.forEach((question, index) => {
                    questionsHTML += `
                        <p>${index + 1}. ${question}</p>
                        <div>
                            <label><input type="radio" name="q${index}" value="V"> Verdadero</label>
                            <label style="margin-left: 15px;"><input type="radio" name="q${index}" value="F"> Falso</label>
                        </div>
                    `;
                });
                
                questionResult.innerHTML = `
                    <h3>True or False</h3>
                    <p><strong>Topic:</strong> ${topic === 'all' ? 'Mixed Topics' : topic}</p>
                    <div style="background-color: #f8f9fa; padding: 15px; border-left: 4px solid #4a6741; margin-top: 10px;">
                        ${randomQuestion.text}
                    </div>
                    <div style="margin-top: 15px;">
                        ${questionsHTML}
                    </div>
                `;
                
                // Show answer section, but with different text
                answerSection.style.display = 'block';
                userAnswer.placeholder = "Mark the answers above and write your answers here in the format: 1. V, 2. F, 3. V, etc.";
                
            } else if (type === 'multiple-choice') {
                const questions = multipleChoiceQuestions[topic] || multipleChoiceQuestions.all;
                const randomQuestion = questions[Math.floor(Math.random() * questions.length)];
                
                correctAnswer = randomQuestion.answers;
                currentQuestion = {
                    type: 'multiple-choice',
                    text: randomQuestion.text,
                    questions: randomQuestion.questions,
                    options: randomQuestion.options,
                    answers: randomQuestion.answers
                };
                
                let questionsHTML = '';
                randomQuestion.questions.forEach((question, qIndex) => {
                    questionsHTML += `<p>${qIndex + 1}. ${question}</p>`;
                    randomQuestion.options[qIndex].forEach((option, oIndex) => {
                        questionsHTML += `
                            <label style="display: block; margin-bottom: 5px;">
                                <input type="radio" name="q${qIndex}" value="${oIndex}"> ${option}
                            </label>
                        `;
                    });
                    questionsHTML += '<br>';
                });
                
                questionResult.innerHTML = `
                    <h3>Multiple Choice</h3>
                    <p><strong>Topic:</strong> ${topic === 'all' ? 'Mixed Topics' : topic}</p>
                    <div style="background-color: #f8f9fa; padding: 15px; border-left: 4px solid #4a6741; margin-top: 10px;">
                        ${randomQuestion.text}
                    </div>
                    <div style="margin-top: 15px;">
                        ${questionsHTML}
                    </div>
                `;
                
                // Show answer section, but with different text
                answerSection.style.display = 'block';
                userAnswer.placeholder = "Mark the answers above and write your answers here in the format: 1. B, 2. A, 3. C, etc. or 1. 1, 2. 0, 3. 2, etc.";
            }
        });
        
        // Grade the answer
        submitAnswer.addEventListener('click', () => {
            const answer = userAnswer.value.trim();
            
            if (!answer) {
                alert("Please provide an answer before submitting.");
                return;
            }
            
            let score = 0;
            let feedback = '';
            let maxScore = 0;
            
            if (currentQuestion.type === 'writing') {
                // For writing tasks, use simplified grading
                const wordCount = answer.split(/\s+/).length;
                maxScore = 10;
                
                // Basic criteria
                if (wordCount >= 100) score += 3;
                else if (wordCount >= 50) score += 2;
                else score += 1;
                
                // Check for format elements based on the selected format
                const format = currentQuestion.format;
                let formatCheck = '';
                
                if (format === 'article' || format === 'all') {
                    if (answer.includes('Escrito por:')) {
                        score += 1;
                        formatCheck += '<p>✓ Included author line "Escrito por:"</p>';
                    } else {
                        formatCheck += '<p>✗ Missing author line "Escrito por:"</p>';
                    }
                }
                
                if (format === 'email-formal' || format === 'email-informal' || format === 'all') {
                    if (answer.toLowerCase().includes('para:') || answer.toLowerCase().includes('de:')) {
                        score += 1;
                        formatCheck += '<p>✓ Included email headers (Para:/De:)</p>';
                    } else {
                        formatCheck += '<p>✗ Missing email headers (Para:/De:)</p>';
                    }
                }
                
                // Check for some basic Spanish structures and vocabulary
                if (answer.includes('soy') || answer.includes('estoy') || answer.includes('tengo')) {
                    score += 1;
                    formatCheck += '<p>✓ Used basic Spanish structures</p>';
                } else {
                    formatCheck += '<p>✗ Missing basic Spanish structures</p>';
                }
                
                // Check for relevant vocabulary based on topic
                const topic = topicSelect.value;
                let topicWords = [];
                
                if (topic === 'barrio' || topic === 'all') {
                    topicWords = ['calle', 'tienda', 'parque', 'biblioteca', 'restaurante', 'cine'];
                } else if (topic === 'travel' || topic === 'all') {
                    topicWords = ['viaje', 'hotel', 'playa', 'montaña', 'museo', 'pasaporte'];
                } else if (topic === 'school' || topic === 'all') {
                    topicWords = ['escuela', 'clase', 'profesor', 'estudiante', 'libro', 'examen'];
                }
                
                let topicWordCount = 0;
                topicWords.forEach(word => {
                    if (answer.toLowerCase().includes(word)) {
                        topicWordCount++;
                    }
                });
                
                if (topicWordCount >= 3) {
                    score += 2;
                    formatCheck += `<p>✓ Used relevant vocabulary (${topicWordCount} topic words)</p>`;
                } else if (topicWordCount >= 1) {
                    score += 1;
                    formatCheck += `<p>✓ Used some relevant vocabulary (${topicWordCount} topic words)</p>`;
                } else {
                    formatCheck += '<p>✗ Missing relevant vocabulary for the topic</p>';
                }
                
                // Additional points for complexity
                if (answer.includes('porque') || answer.includes('aunque') || answer.includes('cuando')) {
                    score += 1;
                    formatCheck += '<p>✓ Used complex sentences with conjunctions</p>';
                } else {
                    formatCheck += '<p>✗ Missing complex sentences with conjunctions</p>';
                }
                
                // Final points for general quality
                if (wordCount >= 150) {
                    score += 1;
                    formatCheck += '<p>✓ Answer has good length</p>';
                }
                
                // Cap the score at maxScore
                score = Math.min(score, maxScore);
                
                // Create the feedback
                feedback = `
                    <p>Word count: ${wordCount}</p>
                    <div>Format and content check:</div>
                    ${formatCheck}
                    <p class="correction">Suggested improvement: Consider adding more topic-specific vocabulary and using a variety of tenses (present, past, future) in your writing.</p>
                `;
                
            } else if (currentQuestion.type === 'reading') {
                const userAnswers = answer.split(/[.,;\n]+/).map(a => a.trim());
                maxScore = currentQuestion.answers.length;
                
                // Compare user answers with correct answers
                let answerFeedback = '';
                for (let i = 0; i < currentQuestion.answers.length; i++) {
                    const correct = currentQuestion.answers[i].toLowerCase();
                    const user = userAnswers[i] ? userAnswers[i].toLowerCase() : '';
                    
                    // Check if the user's answer contains key words from the correct answer
                    const keyWords = correct.split(/\s+/).filter(word => word.length > 3);
                    let matches = 0;
                    keyWords.forEach(word => {
                        if (user.includes(word)) matches++;
                    });
                    
                    // If more than half of key words match, consider it correct
                    if (matches > keyWords.length / 2) {
                        score++;
                        answerFeedback += `<p>${i + 1}. ✓ ${user} - <span class="correction">${correct}</span></p>`;
                    } else {
                        answerFeedback += `<p>${i + 1}. ✗ ${user || '[No answer]'} - <span class="correction">${correct}</span></p>`;
                    }
                }
                
                feedback = `
                    <p>Your answers compared to the correct ones:</p>
                    ${answerFeedback}
                `;
                
            } else if (currentQuestion.type === 'fill-blank') {
                const userAnswers = answer.split(/[.,;\n]+/).map(a => a.trim());
                maxScore = currentQuestion.answers.length;
                
                // Compare user answers with correct answers
                let answerFeedback = '';
                for (let i = 0; i < currentQuestion.answers.length; i++) {
                    const correct = currentQuestion.answers[i].toLowerCase();
                    const user = userAnswers[i] ? userAnswers[i].toLowerCase() : '';
                    
                    // For fill-in-the-blank, we'll be more strict but still allow for minor errors
                    if (user === correct || (correct.includes('/') && correct.split('/').some(opt => opt === user))) {
                        score++;
                        answerFeedback += `<p>${i + 1}. ✓ ${user}</p>`;
                    } else {
                        answerFeedback += `<p>${i + 1}. ✗ ${user || '[No answer]'} - <span class="correction">${correct}</span></p>`;
                    }
                }
                
                feedback = `
                    <p>Your answers:</p>
                    ${answerFeedback}
                `;
            } else if (currentQuestion.type === 'true-false') {
                const userAnswers = answer.split(/[.,;\n]+/).map(a => {
                    const match = a.match(/[VF]/i);
                    return match ? match[0].toUpperCase() : '';
                });
                maxScore = currentQuestion.answers.length;
                
                // Compare user answers with correct answers
                let answerFeedback = '';
                for (let i = 0; i < currentQuestion.answers.length; i++) {
                    const correct = currentQuestion.answers[i];
                    const user = userAnswers[i] || '';
                    
                    if (user === correct) {
                        score++;
                        answerFeedback += `<p>${i + 1}. ${currentQuestion.questions[i]}: ✓ ${user}</p>`;
                    } else {
                        answerFeedback += `<p>${i + 1}. ${currentQuestion.questions[i]}: ✗ ${user || '[No answer]'} - <span class="correction">${correct}</span></p>`;
                    }
                }
                
                feedback = `
                    <p>Your answers:</p>
                    ${answerFeedback}
                `;
            } else if (currentQuestion.type === 'multiple-choice') {
                // Extract answers from format like "1. B, 2. A" or "1. 1, 2. 0"
                const userAnswers = [];
                const regex = /\d+\.\s*([A-Da-d0-3])/g;
                let match;
                
                while ((match = regex.exec(answer)) !== null) {
                    const choice = match[1];
                    // Convert letter answers to numbers (A=0, B=1, etc.)
                    if (/[A-Da-d]/.test(choice)) {
                        userAnswers.push(choice.toUpperCase().charCodeAt(0) - 65);
                    } else {
                        userAnswers.push(parseInt(choice));
                    }
                }
                
                maxScore = currentQuestion.answers.length;
                
                // Compare user answers with correct answers
                let answerFeedback = '';
                for (let i = 0; i < currentQuestion.answers.length; i++) {
                    const correct = currentQuestion.answers[i];
                    const user = i < userAnswers.length ? userAnswers[i] : -1;
                    const correctLetter = String.fromCharCode(65 + correct);
                    const userLetter = user >= 0 ? String.fromCharCode(65 + user) : '[No answer]';
                    
                    if (user === correct) {
                        score++;
                        answerFeedback += `<p>${i + 1}. ${currentQuestion.questions[i]}: ✓ ${userLetter}</p>`;
                    } else {
                        answerFeedback += `<p>${i + 1}. ${currentQuestion.questions[i]}: ✗ ${userLetter} - <span class="correction">${correctLetter} (${currentQuestion.options[i][correct]})</span></p>`;
                    }
                }
                
                feedback = `
                    <p>Your answers:</p>
                    ${answerFeedback}
                `;
            }
            
            // Display the feedback
            scoreDisplay.textContent = `Score: ${score}/${maxScore} (${Math.round((score/maxScore) * 100)}%)`;
            correctionDisplay.innerHTML = feedback;
            feedbackSection.style.display = 'block';
        });
        
        // Custom Vocabulary
        const addWordBtn = document.getElementById('add-word-btn');
        const spanishWordInput = document.getElementById('spanish-word');
        const englishTranslationInput = document.getElementById('english-translation');
        const wordCategorySelect = document.getElementById('word-category');
        const isVerbCheckbox = document.getElementById('is-verb');
        const customWordsContainer = document.getElementById('custom-words-container');
        
        // Load custom words from storage
        let customWords = storage.load('customWords') || [];
        
        // Display custom words
        function displayCustomWords() {
            if (customWords.length === 0) {
                customWordsContainer.innerHTML = '<p>No custom words added yet. Add words above to see them here.</p>';
                return;
            }
            
            // Group words by category
            const groupedWords = {};
            customWords.forEach(word => {
                if (!groupedWords[word.category]) {
                    groupedWords[word.category] = [];
                }
                groupedWords[word.category].push(word);
            });
            
            let html = '';
            for (const category in groupedWords) {
                html += `<div class="topic-section">
                            <h4 class="topic-title">${category}</h4>
                            <div class="card">
                                <table>
                                    <tr>
                                        <th>Spanish</th>
                                        <th>English</th>
                                        <th>Actions</th>
                                    </tr>`;
                
                groupedWords[category].forEach((word, index) => {
                    html += `<tr>
                                <td ${word.isVerb ? 'class="verb" data-verb="' + word.spanish + '"' : ''}>${word.spanish}</td>
                                <td>${word.english}</td>
                                <td>
                                    <button class="action-btn" style="padding: 5px 10px; margin-right: 5px;" onclick="editCustomWord(${word.id})">Edit</button>
                                    <button class="action-btn" style="padding: 5px 10px; background-color: #e63946;" onclick="deleteCustomWord(${word.id})">Delete</button>
                                </td>
                            </tr>`;
                });
                
                html += `</table>
                        </div>
                    </div>`;
            }
            
            customWordsContainer.innerHTML = html;
            
            // Reinitialize verb click events
            document.querySelectorAll('.verb').forEach(verb => {
                verb.addEventListener('click', function() {
                    const verbName = this.getAttribute('data-verb');
                    // Use the existing verb modal functionality
                    const verbElements = document.querySelectorAll('.verb');
                    for (let i = 0; i < verbElements.length; i++) {
                        if (verbElements[i].getAttribute('data-verb') === verbName) {
                            verbElements[i].click();
                            break;
                        }
                    }
                });
            });
        }
        
        // Initialize display
        displayCustomWords();
        
        // Add word
        addWordBtn.addEventListener('click', () => {
            const spanish = spanishWordInput.value.trim();
            const english = englishTranslationInput.value.trim();
            const category = wordCategorySelect.options[wordCategorySelect.selectedIndex].text;
            const isVerb = isVerbCheckbox.checked;
            
            if (!spanish || !english) {
                alert('Please enter both Spanish word and English translation.');
                return;
            }
            
            const newWord = {
                id: Date.now(), // use timestamp as unique ID
                spanish: spanish,
                english: english,
                category: category,
                isVerb: isVerb
            };
            
            customWords.push(newWord);
            storage.save('customWords', customWords);
            
            // Clear inputs
            spanishWordInput.value = '';
            englishTranslationInput.value = '';
            isVerbCheckbox.checked = false;
            
            // Update display
            displayCustomWords();
        });
        
        // Edit word function
        window.editCustomWord = function(id) {
            const word = customWords.find(w => w.id === id);
            if (!word) return;
            
            spanishWordInput.value = word.spanish;
            englishTranslationInput.value = word.english;
            
            // Find and select the category
            for (let i = 0; i < wordCategorySelect.options.length; i++) {
                if (wordCategorySelect.options[i].text === word.category) {
                    wordCategorySelect.selectedIndex = i;
                    break;
                }
            }
            
            isVerbCheckbox.checked = word.isVerb;
            
            // Delete the word to avoid duplication
            deleteCustomWord(id);
            
            // Focus on the Spanish input
            spanishWordInput.focus();
        };
        
        // Delete word function
        window.deleteCustomWord = function(id) {
            customWords = customWords.filter(word => word.id !== id);
            storage.save('customWords', customWords);
            displayCustomWords();
        };
    </script>


</body></html>
